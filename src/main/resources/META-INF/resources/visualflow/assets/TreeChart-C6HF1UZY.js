import{m as t,e,R as n,_ as r}from"./monaco-DG05hfFm.js";import{j as i,c as o,m as a,a as s,g as l,s as c,R as u,o as h,b as d,E as f,G as p,F as g,d as m,e as y,u as v,f as x}from"./index-BWIyky4r.js";import{r as w,A as b,v as _,R as S,a as k,W as E,af as M,aa as C,ab as T,a3 as N,a4 as j,ag as $,ah as D,U as I,a6 as O,ae as A,I as P,L as z,ai as L,aj as R,ak as B,ad as X,a9 as V}from"./antd-es-ClfKr2qc.js";const Y={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var H=function(t,e){return w.createElement(b,_({},t,{ref:e,icon:Y}))};const W=w.forwardRef(H);const U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.3 506.3L781.7 405.6a7.23 7.23 0 00-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7a7.14 7.14 0 00-11.3 0L405.6 242.3a7.23 7.23 0 005.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8a7.3 7.3 0 00.1-11.4z"}}]},name:"drag",theme:"outlined"};var q=function(t,e){return w.createElement(b,_({},t,{ref:e,icon:U}))};const F=w.forwardRef(q);const G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"};var K=function(t,e){return w.createElement(b,_({},t,{ref:e,icon:G}))};const J=w.forwardRef(K);var Z={value:()=>{}};function Q(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new tt(r)}function tt(t){this._=t}function et(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function nt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Z,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}tt.prototype=Q.prototype={constructor:tt,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=nt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=nt(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=et(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var rt="http://www.w3.org/1999/xhtml";const it={svg:"http://www.w3.org/2000/svg",xhtml:rt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ot(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),it.hasOwnProperty(e)?{space:it[e],local:t}:t}function at(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rt&&e.documentElement.namespaceURI===rt?e.createElement(t):e.createElementNS(n,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lt(t){var e=ot(t);return(e.local?st:at)(e)}function ct(){}function ut(t){return null==t?ct:function(){return this.querySelector(t)}}function ht(){return[]}function dt(t){return null==t?ht:function(){return this.querySelectorAll(t)}}function ft(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function pt(t){return function(){return this.matches(t)}}function gt(t){return function(e){return e.matches(t)}}var mt=Array.prototype.find;function yt(){return this.firstElementChild}var vt=Array.prototype.filter;function xt(){return Array.from(this.children)}function wt(t){return new Array(t.length)}function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _t(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new bt(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function St(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new bt(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function kt(t){return t.__data__}function Et(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Mt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ct(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nt(t,e){return function(){this.setAttribute(t,e)}}function jt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $t(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Dt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function It(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ot(t){return function(){this.style.removeProperty(t)}}function At(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zt(t,e){return t.style.getPropertyValue(e)||It(t).getComputedStyle(t,null).getPropertyValue(e)}function Lt(t){return function(){delete this[t]}}function Rt(t,e){return function(){this[t]=e}}function Bt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Xt(t){return t.trim().split(/^|\s+/)}function Vt(t){return t.classList||new Yt(t)}function Yt(t){this._node=t,this._names=Xt(t.getAttribute("class")||"")}function Ht(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wt(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ut(t){return function(){Ht(this,t)}}function qt(t){return function(){Wt(this,t)}}function Ft(t,e){return function(){(e.apply(this,arguments)?Ht:Wt)(this,t)}}function Gt(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function Qt(t){return function(){this.innerHTML=t}}function te(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ee(){this.nextSibling&&this.parentNode.appendChild(this)}function ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function re(){return null}function ie(){var t=this.parentNode;t&&t.removeChild(this)}function oe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ae(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function se(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function le(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function ce(t,e,n){var r=It(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ue(t,e){return function(){return ce(this,t,e)}}function he(t,e){return function(){return ce(this,t,e.apply(this,arguments))}}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Yt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var de=[null];function fe(t,e){this._groups=t,this._parents=e}function pe(){return new fe([[document.documentElement]],de)}function ge(t){return"string"==typeof t?new fe([[document.querySelector(t)]],[document.documentElement]):new fe([[t]],de)}function me(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}fe.prototype=pe.prototype={constructor:fe,select:function(t){"function"!=typeof t&&(t=ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new fe(r,this._parents)},selectAll:function(t){t="function"==typeof t?ft(t):dt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new fe(r,i)},selectChild:function(t){return this.select(null==t?yt:function(t){return function(){return mt.call(this.children,t)}}("function"==typeof t?t:gt(t)))},selectChildren:function(t){return this.selectAll(null==t?xt:function(t){return function(){return vt.call(this.children,t)}}("function"==typeof t?t:gt(t)))},filter:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new fe(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,kt);var n,r=e?St:_t,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],f=d.length,p=Et(t.call(h,h&&h.__data__,u,i)),g=p.length,m=l[u]=new Array(g),y=s[u]=new Array(g);r(h,d,m,y,c[u]=new Array(f),p,e);for(var v,x,w=0,b=0;w<g;++w)if(v=m[w]){for(w>=b&&(b=w+1);!(x=y[b])&&++b<g;);v._next=x||null}}return(s=new fe(s,i))._enter=l,s._exit=c,s},enter:function(){return new fe(this._enter||this._groups.map(wt),this._parents)},exit:function(){return new fe(this._exit||this._groups.map(wt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new fe(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Mt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new fe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=ot(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Tt:Ct:"function"==typeof e?n.local?Dt:$t:n.local?jt:Nt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ot:"function"==typeof e?Pt:At)(t,e,null==n?"":n)):zt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Lt:"function"==typeof e?Bt:Rt)(t,e)):this.node()[t]},classed:function(t,e){var n=Xt(t+"");if(arguments.length<2){for(var r=Vt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ft:e?Ut:qt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Jt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?te:Qt)(t)):this.node().innerHTML},raise:function(){return this.each(ee)},lower:function(){return this.each(ne)},append:function(t){var e="function"==typeof t?t:lt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:lt(t),r=null==e?re:"function"==typeof e?e:ut(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ie)},clone:function(t){return this.select(t?ae:oe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?le:se,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?he:ue)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const ye={passive:!1},ve={capture:!0,passive:!1};function xe(t){t.stopImmediatePropagation()}function we(t){t.preventDefault(),t.stopImmediatePropagation()}function be(t){var e=t.document.documentElement,n=ge(t).on("dragstart.drag",we,ve);"onselectstart"in e?n.on("selectstart.drag",we,ve):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _e(t,e){var n=t.document.documentElement,r=ge(t).on("dragstart.drag",null);e&&(r.on("click.drag",we,ve),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Se=t=>()=>t;function ke(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Ee(t){return!t.ctrlKey&&!t.button}function Me(){return this.parentNode}function Ce(t,e){return null==e?{x:t.x,y:t.y}:e}function Te(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ne(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function je(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $e(){}ke.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var De=.7,Ie=1/De,Oe="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ze=/^#([0-9a-f]{3,8})$/,Le=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Re=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Be=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${Ae}\\)$`),Xe=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ae}\\)$`),Ve=new RegExp(`^hsl\\(${Ae},${Pe},${Pe}\\)$`),Ye=new RegExp(`^hsla\\(${Ae},${Pe},${Pe},${Ae}\\)$`),He={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(){return this.rgb().formatHex()}function Ue(){return this.rgb().formatRgb()}function qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ze.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fe(e):3===n?new Je(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ge(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ge(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Le.exec(t))?new Je(e[1],e[2],e[3],1):(e=Re.exec(t))?new Je(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Be.exec(t))?Ge(e[1],e[2],e[3],e[4]):(e=Xe.exec(t))?Ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ve.exec(t))?rn(e[1],e[2]/100,e[3]/100,1):(e=Ye.exec(t))?rn(e[1],e[2]/100,e[3]/100,e[4]):He.hasOwnProperty(t)?Fe(He[t]):"transparent"===t?new Je(NaN,NaN,NaN,0):null}function Fe(t){return new Je(t>>16&255,t>>8&255,255&t,1)}function Ge(t,e,n,r){return r<=0&&(t=e=n=NaN),new Je(t,e,n,r)}function Ke(t,e,n,r){return 1===arguments.length?((i=t)instanceof $e||(i=qe(i)),i?new Je((i=i.rgb()).r,i.g,i.b,i.opacity):new Je):new Je(t,e,n,null==r?1:r);var i}function Je(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ze(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}`}function Qe(){const t=tn(this.opacity);return`${1===t?"rgb(":"rgba("}${en(this.r)}, ${en(this.g)}, ${en(this.b)}${1===t?")":`, ${t})`}`}function tn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function en(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nn(t){return((t=en(t))<16?"0":"")+t.toString(16)}function rn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,n,r)}function on(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof $e||(t=qe(t)),!t)return new an;if(t instanceof an)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new an(a,s,l,t.opacity)}function an(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sn(t){return(t=(t||0)%360)<0?t+360:t}function ln(t){return Math.max(0,Math.min(1,t||0))}function cn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ne($e,qe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:We,formatHex:We,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return on(this).formatHsl()},formatRgb:Ue,toString:Ue}),Ne(Je,Ke,je($e,{brighter(t){return t=null==t?Ie:Math.pow(Ie,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?De:Math.pow(De,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Je(en(this.r),en(this.g),en(this.b),tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ze,formatHex:Ze,formatHex8:function(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}${nn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Qe,toString:Qe})),Ne(an,(function(t,e,n,r){return 1===arguments.length?on(t):new an(t,e,n,null==r?1:r)}),je($e,{brighter(t){return t=null==t?Ie:Math.pow(Ie,t),new an(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?De:Math.pow(De,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Je(cn(t>=240?t-240:t+120,i,r),cn(t,i,r),cn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new an(sn(this.h),ln(this.s),ln(this.l),tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tn(this.opacity);return`${1===t?"hsl(":"hsla("}${sn(this.h)}, ${100*ln(this.s)}%, ${100*ln(this.l)}%${1===t?")":`, ${t})`}`}}));const un=t=>()=>t;function hn(t){return 1==(t=+t)?dn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):un(isNaN(e)?n:e)}}function dn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):un(isNaN(t)?e:t)}const fn=function t(e){var n=hn(e);function r(t,e){var r=n((t=Ke(t)).r,(e=Ke(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=dn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function pn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function gn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=_n(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function mn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=_n(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wn=new RegExp(xn.source,"g");function bn(t,e){var n,r,i,o=xn.lastIndex=wn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=xn.exec(t))&&(r=wn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:yn(n,r)})),o=wn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function _n(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?un(e):("number"===i?yn:"string"===i?(n=qe(e))?(e=n,fn):bn:e instanceof qe?fn:e instanceof Date?mn:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?gn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?vn:yn:pn))(t,e)}var Sn,kn=180/Math.PI,En={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mn(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*kn,skewX:Math.atan(l)*kn,scaleX:a,scaleY:s}}function Cn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:yn(t,i)},{i:l-2,x:yn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:yn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:yn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:yn(t,n)},{i:s-2,x:yn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Tn=Cn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?En:Mn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Nn=Cn((function(t){return null==t?En:(Sn||(Sn=document.createElementNS("http://www.w3.org/2000/svg","g")),Sn.setAttribute("transform",t),(t=Sn.transform.baseVal.consolidate())?Mn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):En)}),", ",")",")");function jn(t){return((t=Math.exp(t))+1/t)/2}const $n=function t(e,n,r){function i(t,i){var o,a,s=t[0],l=t[1],c=t[2],u=i[0],h=i[1],d=i[2],f=u-s,p=h-l,g=f*f+p*p;if(g<1e-12)a=Math.log(d/c)/e,o=function(t){return[s+t*f,l+t*p,c*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),y=(d*d-c*c+r*g)/(2*c*n*m),v=(d*d-c*c-r*g)/(2*d*n*m),x=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(v*v+1)-v);a=(w-x)/e,o=function(t){var r,i=t*a,o=jn(x),u=c/(n*m)*(o*(r=e*i+x,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[s+u*f,l+u*p,c*o/jn(e*i+x)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);var Dn,In,On=0,An=0,Pn=0,zn=1e3,Ln=0,Rn=0,Bn=0,Xn="object"==typeof performance&&performance.now?performance:Date,Vn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yn(){return Rn||(Vn(Hn),Rn=Xn.now()+Bn)}function Hn(){Rn=0}function Wn(){this._call=this._time=this._next=null}function Un(t,e,n){var r=new Wn;return r.restart(t,e,n),r}function qn(){Rn=(Ln=Xn.now())+Bn,On=An=0;try{!function(){Yn(),++On;for(var t,e=Dn;e;)(t=Rn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--On}()}finally{On=0,function(){var t,e,n=Dn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Dn=e);In=t,Gn(r)}(),Rn=0}}function Fn(){var t=Xn.now(),e=t-Ln;e>zn&&(Bn-=e,Ln=t)}function Gn(t){On||(An&&(An=clearTimeout(An)),t-Rn>24?(t<1/0&&(An=setTimeout(qn,t-Xn.now()-Bn)),Pn&&(Pn=clearInterval(Pn))):(Pn||(Ln=Xn.now(),Pn=setInterval(Fn,zn)),On=1,Vn(qn)))}function Kn(t,e,n){var r=new Wn;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Wn.prototype=Un.prototype={constructor:Wn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Yn():+n)+(null==e?0:+e),this._next||In===this||(In?In._next=this:Dn=this,In=this),this._call=t,this._time=n,Gn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gn())}};var Jn=Q("start","end","cancel","interrupt"),Zn=[],Qn=0,tr=1,er=2,nr=3,rr=4,ir=5,or=6;function ar(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=tr,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,h,d;if(n.state!==tr)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===nr)return Kn(a);d.state===rr?(d.state=or,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=or,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Kn((function(){n.state===nr&&(n.state=rr,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=er,n.on.call("start",t,t.__data__,n.index,n.group),n.state===er){for(n.state=nr,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=ir,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===ir&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=or,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Un(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Jn,tween:Zn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qn})}function sr(t,e){var n=cr(t,e);if(n.state>Qn)throw new Error("too late; already scheduled");return n}function lr(t,e){var n=cr(t,e);if(n.state>nr)throw new Error("too late; already running");return n}function cr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ur(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>er&&n.state<ir,n.state=or,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function hr(t,e){var n,r;return function(){var i=lr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function dr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=lr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function fr(t,e,n){var r=t._id;return t.each((function(){var t=lr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return cr(t,r).value[e]}}function pr(t,e){var n;return("number"==typeof e?yn:e instanceof qe?fn:(n=qe(e))?(e=n,fn):bn)(t,e)}function gr(t){return function(){this.removeAttribute(t)}}function mr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function vr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function xr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function wr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function br(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function _r(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Sr(t,e){return function(){sr(this,t).delay=+e.apply(this,arguments)}}function kr(t,e){return e=+e,function(){sr(this,t).delay=e}}function Er(t,e){return function(){lr(this,t).duration=+e.apply(this,arguments)}}function Mr(t,e){return e=+e,function(){lr(this,t).duration=e}}var Cr=pe.prototype.constructor;function Tr(t){return function(){this.style.removeProperty(t)}}var Nr=0;function jr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $r(){return++Nr}var Dr=pe.prototype;jr.prototype={constructor:jr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ut(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,ar(h[d],e,n,d,h,cr(s,n)));return new jr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=dt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=cr(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&ar(d,e,n,g,f,p);o.push(f),a.push(l)}return new jr(o,a,e,n)},selectChild:Dr.selectChild,selectChildren:Dr.selectChildren,filter:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new jr(a,this._parents,this._name,this._id)},selection:function(){return new Cr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=$r(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=cr(a,e);ar(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jr(r,this._parents,t,n)},call:Dr.call,nodes:Dr.nodes,node:Dr.node,size:Dr.size,empty:Dr.empty,each:Dr.each,on:function(t,e){var n=this._id;return arguments.length<2?cr(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?sr:lr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=ot(t),r="transform"===n?Nn:pr;return this.attrTween(t,"function"==typeof e?(n.local?wr:xr)(n,r,fr(this,"attr."+t,e)):null==e?(n.local?mr:gr)(n):(n.local?vr:yr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ot(t);return this.tween(n,(r.local?br:_r)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Tn:pr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=zt(this,t),a=(this.style.removeProperty(t),zt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Tr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=zt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=zt(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,fr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=lr(this,t),c=l.on,u=null==l.value[a]?o||(o=Tr(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=zt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(fr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=cr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?hr:dr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Sr:kr)(e,t)):cr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Er:Mr)(e,t)):cr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){lr(this,t).ease=e}}(e,t)):cr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;lr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=lr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Dr[Symbol.iterator]};var Ir={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Or(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}pe.prototype.interrupt=function(t){return this.each((function(){ur(this,t)}))},pe.prototype.transition=function(t){var e,n;t instanceof jr?(e=t._id,t=t._name):(e=$r(),(n=Ir).time=Yn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&ar(a,t,e,c,s,n||Or(a,e));return new jr(r,this._parents,t,e)};const Ar=Math.PI,Pr=2*Ar,zr=1e-6,Lr=Pr-zr;function Rr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Br{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Rr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Rr;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>zr)if(Math.abs(u*s-l*c)>zr&&i){let d=n-o,f=r-a,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((Ar-Math.acos((p+h-g)/(2*m*y)))/2),x=v/y,w=v/m;Math.abs(x-1)>zr&&this._append`L${t+x*c},${e+x*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=t+w*s},${this._y1=e+w*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>zr||Math.abs(this._y1-c)>zr)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%Pr+Pr),h>Lr?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>zr&&this._append`A${n},${n},0,${+(h>=Ar)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Xr(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Vr(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Hr)):void 0===e&&(e=Yr);for(var n,r,i,o,a,s=new qr(t),l=[s];n=l.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new qr(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Ur)}function Yr(t){return t.children}function Hr(t){return Array.isArray(t)?t[1]:null}function Wr(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Ur(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function qr(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fr(t,e){return t.parent===e.parent?1:2}function Gr(t){var e=t.children;return e?e[0]:t.t}function Kr(t){var e=t.children;return e?e[e.length-1]:t.t}function Jr(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Zr(t,e,n){return t.a.parent===e.parent?t.a:n}function Qr(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ti(){var t=Fr,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new Qr(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Qr(r[i],i)),n.parent=e;return(a.parent=new Qr(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:t(c,u)/2,f=d-c.x,p=e/(u.x+d+f),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,d=l.m;s=Kr(s),o=Gr(o),s&&o;)l=Gr(l),(a=Kr(a)).a=e,(i=s.z+h-o.z-c+t(s._,o._))>0&&(Jr(Zr(s,e,r),e,i),c+=i,u+=i),h+=s.m,c+=o.m,d+=l.m,u+=a.m;s&&!Kr(a)&&(a.t=s,a.m+=h-u),o&&!Gr(l)&&(l.t=o,l.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function ei(t){return function(){return t}}function ni(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Br(e)}qr.prototype=Vr.prototype={constructor:qr,count:function(){return this.eachAfter(Xr)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Vr(this).eachBefore(Wr)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}},Qr.prototype=Object.create(qr.prototype);var ri=Array.prototype.slice;function ii(t){this._context=t}function oi(t){return new ii(t)}function ai(t){return t[0]}function si(t){return t[1]}function li(t,e){var n=ei(!0),r=null,i=oi,o=null,a=ni(s);function s(s){var l,c,u,h,d=(h=s,s="object"==typeof h&&"length"in h?h:Array.from(h)).length,f=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?ai:ei(t),e="function"==typeof e?e:void 0===e?si:ei(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:ei(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:ei(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:ei(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}ii.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class ci{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function ui(t){return new ci(t,!0)}function hi(t){return t.source}function di(t){return t.target}function fi(){return function(t){let e=hi,n=di,r=ai,i=si,o=null,a=null,s=ni(l);function l(){let l;const c=ri.call(arguments),u=e.apply(this,c),h=n.apply(this,c);if(null==o&&(a=t(l=s())),a.lineStart(),c[0]=u,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:ei(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:ei(+t),l):i},l.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),l):o},l}(ui)}const pi=t=>()=>t;function gi(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mi(t,e,n){this.k=t,this.x=e,this.y=n}mi.prototype={constructor:mi,scale:function(t){return 1===t?this:new mi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yi=new mi(1,0,0);function vi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return yi;return t.__zoom}function xi(t){t.stopImmediatePropagation()}function wi(t){t.preventDefault(),t.stopImmediatePropagation()}function bi(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function _i(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Si(){return this.__zoom||yi}function ki(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ei(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mi(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Ci(){var t,e,n,r=bi,i=_i,o=Mi,a=ki,s=Ei,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=$n,d=Q("start","zoom","end"),f=500,p=150,g=0,m=10;function y(t){t.property("__zoom",Si).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new mi(e,t.x,t.y)}function x(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new mi(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(r),s=i.apply(t,o),l=null==n?w(s):"function"==typeof n?n.apply(t,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new mi(n,l[0]-e[0]*n,l[1]-e[1]*n)}a.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new S(t,e)}function S(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,s=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,a.apply(this,arguments)))),u=me(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[u,i.invert(u)],ur(this),n.start()}wi(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",o(x(v(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function E(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=_(this,e,!0).event(t),s=ge(t.view).on("mousemove.zoom",(function(t){if(wi(t),!a.moved){var e=t.clientX-u,n=t.clientY-h;a.moved=e*e+n*n>g}a.event(t).zoom("mouse",o(x(a.that.__zoom,a.mouse[0]=me(t,i),a.mouse[1]),a.extent,c))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),_e(t.view,a.moved),wi(t),a.event(t).end()}),!0),l=me(t,i),u=t.clientX,h=t.clientY;be(t.view),xi(t),a.mouse=[l,this.__zoom.invert(l)],ur(this),a.start()}}function M(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=me(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),l=n.k*(t.shiftKey?.5:2),h=o(x(v(n,l),a,s),i.apply(this,e),c);wi(t),u>0?ge(this).transition().duration(u).call(b,h,a,t):ge(this).call(y.transform,h,a,t)}}function C(n,...i){if(r.apply(this,arguments)){var o,a,s,l,c=n.touches,u=c.length,h=_(this,i,n.changedTouches.length===u).event(n);for(xi(n),a=0;a<u;++a)l=[l=me(s=c[a],this),this.__zoom.invert(l),s.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),f)),ur(this),h.start())}}function T(t,...e){if(this.__zooming){var n,r,i,a,s=_(this,e).event(t),l=t.changedTouches,u=l.length;for(wi(t),n=0;n<u;++n)i=me(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],d=s.touch0[1],f=s.touch1[0],p=s.touch1[1],g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;r=v(r,Math.sqrt(g/m)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(x(r,i,a),s.extent,c))}}function N(t,...r){if(this.__zooming){var i,o,a=_(this,r).event(t),s=t.changedTouches,l=s.length;for(xi(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),i=0;i<l;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=me(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<m)){var c=ge(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return y.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Si),t!==i?b(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,n,r){y.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},y.scaleTo=function(t,e,n,r){y.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return o(x(v(r,l),a,s),t,c)}),n,r)},y.translateBy=function(t,e,n,r){y.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},y.translateTo=function(t,e,n,r,a){y.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return o(yi.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,a)},S.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=ge(this.that).datum();d.call(t,this.that,new gi(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:d}),e)}},y.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:pi(+t),y):a},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:pi(!!t),y):r},y.touchable=function(t){return arguments.length?(s="function"==typeof t?t:pi(!!t),y):s},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:pi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],y):[l[0],l[1]]},y.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(u=+t,y):u},y.interpolate=function(t){return arguments.length?(h=t,y):h},y.on=function(){var t=d.on.apply(d,arguments);return t===d?y:t},y.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,y):Math.sqrt(g)},y.tapDistance=function(t){return arguments.length?(m=+t,y):m},y}vi.prototype=mi.prototype;const Ti=()=>i.jsxs("pattern",{id:"movingArrowPattern",width:"50",height:"10",patternUnits:"userSpaceOnUse",children:[i.jsx("rect",{width:"50",height:"10",fill:"url(#gradientBackground)"}),i.jsxs("linearGradient",{id:"gradientBackground",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:o.link1,stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:o.link2,stopOpacity:1}})]}),i.jsx("path",{d:"M0,49C125,0,125,200,250,200",stroke:"#d0e4eb",strokeWidth:"2",fill:"none"}),i.jsx("animateTransform",{attributeName:"patternTransform",type:"translate",from:"-50,0",to:"0,0",dur:"5s",repeatCount:"indefinite"})]});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!a)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Ni(t){t()}function ji(t){return l(t)}var $i=function(){function t(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=1e4),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var n=Date.now();e.registrations.forEach((function(r,i){n-r.registeredAt>=t&&(e.finalize(r.value),e.registrations.delete(i))})),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,n){this.registrations.set(n,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),t}(),Di=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:$i)((function(t){var e;null===(e=t.reaction)||void 0===e||e.dispose(),t.reaction=null})),Ii=function(){};function Oi(t){t.reaction=new u("observer".concat(t.name),(function(){var e;t.stateVersion=Symbol(),null===(e=t.onStoreChange)||void 0===e||e.call(t)}))}var Ai="function"==typeof Symbol&&Symbol.for,Pi=Ai?Symbol.for("react.forward_ref"):"function"==typeof w.forwardRef&&w.forwardRef((function(t){return null})).$$typeof,zi=Ai?Symbol.for("react.memo"):"function"==typeof w.memo&&w.memo((function(t){return null})).$$typeof;function Li(t,e){var n;if(zi&&t.$$typeof===zi)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=null!==(n=null==e?void 0:e.forwardRef)&&void 0!==n&&n,i=t,o=t.displayName||t.name;if(Pi&&t.$$typeof===Pi&&(r=!0,"function"!=typeof(i=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,s,l=function(t,e){return function(t,e){void 0===e&&(e="observed");var n=S.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(t){return Di.unregister(r),r.onStoreChange=t,r.reaction||(Oi(r),r.stateVersion=Symbol()),function(){var t;r.onStoreChange=null,null===(t=r.reaction)||void 0===t||t.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i,o,a=n.current;if(a.reaction||(Oi(a),Di.register(n,a,a)),S.useDebugValue(a.reaction,ji),c.useSyncExternalStore(a.subscribe,a.getSnapshot,Ii),a.reaction.track((function(){try{i=t()}catch(e){o=e}})),o)throw o;return i}((function(){return i(t,e)}),o)};return l.displayName=t.displayName,Object.defineProperty(l,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(l.contextTypes=t.contextTypes),r&&(l=w.forwardRef(l)),l=w.memo(l),a=t,s=l,Object.keys(a).forEach((function(t){Bi[t]||Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(a,t))})),l}var Ri,Bi={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Xi(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(Ri=k.unstable_batchedUpdates)||(Ri=Ni),s({reactionScheduler:Ri}),Di.finalizeAllImmediately;var Vi=Symbol("patchMixins"),Yi=Symbol("patchedDefinition");function Hi(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return null!=t&&(a=t.apply(this,i)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,i)}))}}function Wi(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Hi.call.apply(Hi,[this,t,e].concat(r))}}function Ui(t,e,n){var r=function(t,e){var n=t[Vi]=t[Vi]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[Yi]){var o=t[e],a=qi(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,a)}}function qi(t,e,n,r,i){var o,a=Wi(i,r);return(o={})[Yi]=!0,o.get=function(){return a},o.set=function(i){if(this===t)a=Wi(i,r);else{var o=qi(this,e,n,r,i);Object.defineProperty(this,e,o)}},o.configurable=!0,o.enumerable=n,o}var Fi=Symbol("ObserverAdministration"),Gi=Symbol("isMobXReactObserver");function Ki(t){var e;return null!=(e=t[Fi])?e:t[Fi]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:Ji(t.constructor),state:void 0,props:void 0,context:void 0}}function Ji(t){return t.displayName||t.name||"<component>"}function Zi(t){var e=t.bind(this),n=Ki(this);return function(){n.reaction||(n.reaction=function(e){return new u(e.name+".render()",(function(){if(e.mounted)try{null==e.forceUpdate||e.forceUpdate()}catch(t){var n;null==(n=e.reaction)||n.dispose(),e.reaction=null}else e.reactionInvalidatedBeforeMount=!0}))}(n),n.mounted||Di.register(this,n,this));var t=void 0,r=void 0;if(n.reaction.track((function(){try{r=d(!1,e)}catch(n){t=n}})),t)throw t;return r}}function Qi(t,e){return this.state!==e||!function(t,e){if(Xi(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!Xi(t[n[i]],e[n[i]]))return!1;return!0}(this.props,t)}function to(t,e){if(e&&"class"!==e.kind)throw new Error("The @observer decorator can be used on classes only");return t.isMobxInjector,Object.prototype.isPrototypeOf.call(w.Component,t)||Object.prototype.isPrototypeOf.call(w.PureComponent,t)?function(t){var e=t.prototype;if(t[Gi]){var n=Ji(t);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}if(t[Gi]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==w.PureComponent)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Qi)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Qi;var r=e.render;if("function"!=typeof r){var i=Ji(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}e.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:Zi.call(this,r)}),this.render()};var o=e.componentDidMount;return e.componentDidMount=function(){var t=this,e=Ki(this);return e.mounted=!0,Di.unregister(this),e.forceUpdate=function(){return t.forceUpdate()},e.reaction&&!e.reactionInvalidatedBeforeMount||e.forceUpdate(),null==o?void 0:o.apply(this,arguments)},Ui(e,"componentWillUnmount",(function(){var t,e=Ki(this);null==(t=e.reaction)||t.dispose(),e.reaction=null,e.forceUpdate=null,e.mounted=!1,e.reactionInvalidatedBeforeMount=!1})),t}(t):Li(t)}if(S.version.split(".")[0],!w.Component)throw new Error("mobx-react requires React to be available");if(!h)throw new Error("mobx-react requires mobx to be available");const eo="data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='5674'%20width='200'%20height='200'%3e%3cpath%20d='M618.666667%20192l213.333333%20213.333333%2089.002667-89.002666a85.333333%2085.333333%200%200%200%200-120.661334l-92.672-92.672a85.333333%2085.333333%200%200%200-120.661334%200L618.666667%20192zM95.872%20901.76l71.765333-251.136a42.666667%2042.666667%200%200%201%2010.837334-18.432L554.666667%20256l213.333333%20213.333333-376.192%20376.192a42.666667%2042.666667%200%200%201-18.432%2010.837334l-251.136%2071.765333a21.333333%2021.333333%200%200%201-26.368-26.368z'%20fill='%23000000'%20%3e%3c/path%3e%3c/svg%3e",no="data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M%20494.917%20116.958%20l%20302.649%20302.649%20L%20587.663%20629.506%20l%20-107.399%20-107.399%20l%20-351.452%20351.476%20c%20-21.5614%2021.5614%20-56.5333%2021.5614%20-78.1068%200%20c%20-21.5626%20-21.5626%20-21.5626%20-56.5333%200%20-78.1079%20L%20402.17%20444.014%20l%20-117.156%20-117.153%20l%20209.902%20-209.902%20Z%20M%20212.39%20283.525%20c%2017.5223%2017.5223%2045.9322%2017.5223%2063.4546%200%20l%20175.739%20-175.739%20c%2017.5236%20-17.5236%2017.5236%20-45.9322%200%20-63.4558%20c%20-17.5223%20-17.5223%20-45.9322%20-17.5223%20-63.4546%200%20L%20212.39%20220.057%20c%20-17.5223%2017.5223%20-17.5223%2045.9444%200%2063.4679%20Z%20m%20592.285%20181.492%20L%20628.936%20640.754%20c%20-17.5223%2017.5236%20-17.5223%2045.9334%200%2063.4558%20c%2017.5236%2017.5223%2045.9322%2017.5223%2063.4558%200%20L%20868.13%20528.472%20c%2017.5223%20-17.5223%2017.5223%20-45.9322%200%20-63.4546%20c%20-17.5236%20-17.5236%20-45.9334%20-17.5236%20-63.4558%200%20Z%20M%20973.266%20969.129%20c%200%20-51.9968%20-42.1421%20-94.1388%20-94.1388%20-94.1388%20H%20533.02%20c%20-51.9968%200%20-94.1388%2042.1421%20-94.1388%2094.1388%20h%20534.386%20Z'%20fill=''%3e%3c/path%3e%3c/svg%3e",ro="data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M960%20512C960%20264%20760%2064%20512%2064S64%20264%2064%20512s200%20448%20448%20448%20448-200%20448-448zM553.6%20726.4c-6.4-6.4-9.6-14.4-9.6-22.4s3.2-16%209.6-22.4l137.6-137.6H256c-17.6%200-32-14.4-32-32s14.4-32%2032-32h433.6l-137.6-137.6c-4.8-6.4-8-14.4-8-22.4s3.2-16%209.6-22.4c12.8-12.8%2032-12.8%2044.8%200l192%20192c6.4%206.4%209.6%2014.4%209.6%2022.4%200%208-3.2%2016-9.6%2022.4l-192%20192c-12.8%2012.8-32%2012.8-44.8%200z'%20fill='%23333333'%20%3e%3c/path%3e%3c/svg%3e",io="data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M779.63636367%20475.37777736c33.09899%2026.505051%2013.187879%2052.880808-6.593939%2066.068687-6.723232%206.723232-410.375758%20238.416162-410.375758%20238.416162-26.505051%2013.187879-59.60404%2013.187879-72.791919-19.911111-6.593939%200-6.593939-483.038384-6.59394-483.038384%200-26.505051%2013.187879-59.60404%2052.880808-46.286869%206.723232%200%20443.474747%20244.751515%20443.474748%20244.751515z'%20fill=''%20%3e%3c/path%3e%3c/svg%3e";function oo(t,e,n){t.on("mouseover",(function(t,r){const i=vi(e),o=i.applyX(r.y),a=f*i.k,s=i.applyY(r.x),l=e.getBoundingClientRect(),c=l.left+window.scrollX+o-a,u=l.top+window.scrollY+s;n.setCurrentMenu(null),setTimeout((()=>{n.setCurrentMenu({x:c,y:u}),n.setMenuNode(r)}),10)}))}function ao(t,e,n){t.on("mouseover",(function(t,r){const i=vi(e),a=i.applyX(r.y),s=i.applyY(r.x)-10-10,l=e.getBoundingClientRect(),c=l.left+window.scrollX+a,u=l.top+window.scrollY+s;ge(this).transition().duration(5).attr("r",25).style("fill","Rule"==r.data.scriptType?o.ruleCircle:o.circle),n.setCurrentMenu(null),setTimeout((()=>{n.setCurrentMenu({x:c,y:u}),n.setMenuNode(r)}),1)})).on("mouseout",(function(t,e){ge(this).transition().duration(50).attr("r",20).style("fill","Rule"==e.data.scriptType?o.ruleCircle:o.circle)})).on("contextmenu",(function(t){t.preventDefault()}))}function so(t,e=!0){const n=t.rootNode,r=t.svgRef,i=t.gRef,a=t.treeStore,s=i.selectAll(".node").data(n.descendants(),(t=>t.data.scriptId));s.enter().append("g").attr("class","node").attr("transform",(t=>"End"===t.data.scriptType?`translate(${t.y-f},${t.x})`:`translate(${t.y},${t.x})`)).attr("id",(t=>`node-${t.data.scriptId}`)).each((function(t){const n=ge(this);if("End"===t.data.scriptType){const t=n.append("rect").attr("width",20).attr("height",20).attr("x",-10).attr("y",-10).attr("rx",5).style("fill","black").style("stroke","#999").style("stroke-width",1.2).style("opacity",1).raise();e&&oo(t,r,a)}else{const i=n.append("circle").attr("r",20).style("fill","Rule"==t.data.scriptType?o.ruleCircle:o.circle).style("stroke","#999").style("stroke-width",0).style("cursor","pointer").style("opacity",1).style("filter","drop-shadow(2px 2px 12px grey) brightness(120%)").raise();e&&ao(i,r,a),i.on("click",(function(t,e){a.setClickNode(e)})),n.append("text").attr("dy","-2em").attr("x",0).style("text-anchor","middle").text((t=>t.data.scriptName)).on("mouseover",(function(){ge(this).transition().duration(150).style("fill","#000").style("font-weight","bold")})).on("mouseout",(function(){ge(this).transition().duration(250).style("fill","#171616").style("font-weight","normal")})),"Script"==t.data.scriptType&&n.append("image").attr("xlink:href",eo).attr("width",16).attr("height",16).attr("x",-8).attr("y",-8).style("pointer-events","none"),"Rule"==t.data.scriptType&&n.append("image").attr("xlink:href",no).attr("width",20).attr("height",20).attr("x",-10).attr("y",-10).style("pointer-events","none"),"Condition"==t.data.scriptType&&n.append("image").attr("xlink:href",ro).attr("width",20).attr("height",20).attr("x",-10).attr("y",-10).style("pointer-events","none"),"Start"==t.data.scriptType&&n.append("image").attr("xlink:href",io).attr("width",20).attr("height",20).attr("x",-10).attr("y",-10).style("pointer-events","none")}})),s.transition().duration(750).attr("transform",(t=>"End"===t.data.scriptType?`translate(${t.y-f},${t.x})`:`translate(${t.y},${t.x})`))}function lo(t){var e;const n=t.rootNode,r=t.treeLayout,i=t.gRef,o=t.treeStore;n.descendants().forEach((t=>{t.previousX=t.x,t.previousY=t.y})),r(n),i.attr("transform",null==(e=o.currentTransform)?void 0:e.toString()),uo(t),so(t),o.setCurrentMenu(null)}function co(t,e){return`link--${t}--${e}`}function uo(t){const e=t.rootNode,n=t.gRef.selectAll(".link").data(e.links(),(t=>t.target.data.scriptId));n.enter().append("path").attr("class","link").attr("fill","none").attr("stroke","url(#movingArrowPattern)").attr("stroke-width",10).attr("id",(t=>co(t.source.data.scriptId,t.target.data.scriptId))).lower().transition().duration(750).each((function(t){!function(t,e,n){ge(t).transition().duration(750).attrTween("d",(function(t){let e=null;const r=n.descendants().find((e=>e.data.scriptId===t.source.data.scriptId));if(void 0!==(null==r?void 0:r.previousX)&&null!==(null==r?void 0:r.previousX)&&void 0!==(null==r?void 0:r.previousY)&&null!==(null==r?void 0:r.previousY)&&(e=[r.previousX,r.previousY]),null==e)return function(e){let n=_n(t.source.y,t.target.y);"End"===t.target.data.scriptType&&(n=_n(t.source.y,t.target.y-f));const r=_n(t.source.x,t.target.x),i={source:{x:t.source.x,y:t.source.y},target:{x:r(e),y:n(e)}};return fi().x((t=>t.y)).y((t=>t.x))(i)};{const n=e[1],r=e[0];let i=_n(n,t.target.y);"End"===t.target.data.scriptType&&(i=_n(t.source.y,t.target.y-f));const o=_n(r,t.target.x),a=_n(n,t.source.y),s=_n(r,t.source.x);return function(t){const e=i(t),n=o(t),r={source:{x:s(t),y:a(t)},target:{x:n,y:e}};return fi().x((t=>t.y)).y((t=>t.x))(r)}}}))}(this,0,e)})),n.exit().remove(),n.transition().duration(750).attr("d",fi().x((function(t){return"End"===t.data.scriptType?t.y-f:t.y})).y((t=>t.x)))}const ho="_nodePopup_1xhjc_2",fo="_node_1xhjc_2",po="_nodeLabel_1xhjc_35",go="_disabled_1xhjc_42",mo=to((({treeChartState:t})=>{let e=t.treeStore;const n=e.menuPosition;let r=t.treeStore.siderWidth;const o=t.rootNode,a=t.gRef;if(!n||e.clickNode)return null;function s(e){var n;if(null==e.parent)return void M.error("根节点无法删除").then((t=>t));const r=e.descendants(),i=new Set(r.map((t=>t.data.scriptId))),o=a.selectAll(".node").filter((function(t){return i.has(t.data.scriptId)})),s=a.selectAll(".link").filter((t=>i.has(t.target.data.scriptId)));o.transition().duration(750).style("opacity",0).attr("transform",`translate(${e.parent.y},${e.parent.x})`).remove(),function(t,e){t.style("opacity",0).attrTween("d",(function(t){const n={x:e.parent.x,y:e.parent.y},r=_n(t.source.x,n.x),i=_n(t.source.y,n.y),o=_n(t.target.x,n.x),a=_n("End"===t.target.data.scriptType?t.target.y-f:t.target.y,n.y);return function(t){const e={source:{x:r(t),y:i(t)},target:{x:o(t),y:a(t)}};return fi().x((function(t){return t.y})).y((t=>t.x))(e)}})).on("end",(function(){ge(this).remove()}))}(s.transition().duration(750),e);const l=e.parent.children;if(l&&(e.parent.children=l.filter((t=>t!==e)),0===e.parent.children.length&&delete e.parent.children),e.parent.data.children)for(let t=0;t<(null==(n=e.parent.data.children)?void 0:n.length);t++)e.parent.data.children[t].scriptId===e.data.scriptId&&e.parent.data.children.splice(t,1);setTimeout((()=>{lo(t)}),500)}const l=e.menuNode,c="End"===(null==l?void 0:l.data.scriptType),u="Start"===(null==l?void 0:l.data.scriptType),h=function(t){const e=null==t?void 0:t.data.children;return!!(e&&e.length>0&&"End"===e[0].scriptType)}(e.menuNode),d=!!(l&&l.data.children&&l.data.children.length>0),g=!!(l&&l.data.children&&l.data.children.some((t=>"End"===t.scriptType)));function m(e,n){var r;const i=p(),o={scriptId:i,scriptName:`New ${n} Node:`+i.split("-").pop(),scriptText:"",scriptType:n,scriptDesc:"",children:null},s=Vr(o,(t=>t.children));s.depth=e.depth+1,s.parent=e,e.children&&(s.children=e.children,s.children.forEach((t=>{t.parent=s,v(t,s.depth+1)}))),e.children=[s],e.data.children=[o],o.children=s.children?s.children.map((t=>t.data)):null,null==(r=o.children)||r.forEach((t=>{ge(`#${co(e.data.scriptId,t.scriptId)}`).attr("id",`${co(s.data.scriptId,t.scriptId)}`)})),lo(t);a.select(`#node-${o.scriptId}`).transition().duration(750).style("opacity",1).attrTween("transform",(function(t){let n=_n(e.previousX,t.x),r=_n(t.parent.y,t.y);return"End"===t.data.scriptType?function(e){return`translate(${r(e)},${t.x})`}:function(t){return`translate(${r(t)},${n(t)})`}}))}const y=[{icon:eo,label:"添加代码节点",nodeType:"Script",disabled:c,action:()=>m(e.menuNode,"Script")},{icon:ro,label:"条件节点",nodeType:"Condition",disabled:c||d&&h,action:()=>function(e){const n={scriptId:p(),scriptName:"New Condition Node"+(Math.floor(90*Math.random())+10),scriptText:"",scriptType:"Condition",scriptDesc:"",children:null},r=Vr(n,(t=>t.children));r.depth=e.depth+1,r.parent=e,e.children||(e.children=[]),e.data.children?e.data.children=e.data.children.filter((t=>"Condition"===t.scriptType)):e.data.children=[];const i=[];for(let t=e.children.length-1;t>=0;t--){let n=e.children[t];if("Condition"!==n.data.scriptType){r.children||(r.children=[]),r.children.push(n),e.children.splice(t,1),n.parent=r,i.push(n.data),v(n,r.depth+1);const o=co(e.data.scriptId,n.data.scriptId),a=co(r.data.scriptId,n.data.scriptId);ge(`#${o}`).attr("id",a)}}n.children=0==i.length?null:i,e.children.push(r),e.data.children.push(n),lo(t),a.select(`#node-${n.scriptId}`).transition().duration(750).style("opacity",1).attrTween("transform",(function(t){const e=t.parent.previousX,n=t.parent.previousY,r=_n(e,t.x);let i=_n(n,t.y);return function(t){return`translate(${i(t)},${r(t)})`}}))}(e.menuNode)},{icon:no,label:"规则节点",nodeType:"Rule",disabled:c||d&&h,action:()=>m(e.menuNode,"Rule")},{icon:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M777.8%20896%20244.2%20896c-64.7%200-117.2-52.5-117.2-117.2L127%20245.2c0-64.7%2052.5-117.2%20117.2-117.2l533.5%200C842.5%20128%20895%20180.5%20895%20245.2l0%20533.5C895%20843.5%20842.5%20896%20777.8%20896z'%3e%3c/path%3e%3c/svg%3e",label:"结束节点",nodeType:"End",disabled:d||c,action:()=>function(e,n){const r={scriptId:p(),scriptName:"End"===n?"End":"New Node"+Math.floor(90*Math.random())+100,scriptText:"",scriptType:n,scriptDesc:"",children:null};e.data.children||(e.data.children=[]),e.data.children.push(r),e.children||(e.children=[]);const i=Vr(r);i.depth=e.depth+1,i.parent=e,e.children.push(i),lo(t),a.select(`#node-${r.scriptId}`).transition().duration(750).style("opacity",1).attrTween("transform",(function(t){const e=t.parent.previousX,r=t.parent.previousY,i=_n(e,t.x);let o=_n(r,t.y);return"End"===n&&(o=_n(r,t.y-f)),function(t){return`translate(${o(t)},${i(t)})`}}))}(e.menuNode,"End")},{icon:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201068%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='208.59375'%20height='200'%3e%3cpath%20d='M984.242087%20459.597913c26.89113%200%2039.312696-12.377043%2039.312696-40.336696V40.737391c2.048-20.658087-13.445565-39.268174-37.220174-39.268174h-375.407305c-26.89113%200-40.336696%2013.445565-40.336695%2041.405218v373.314782c0%2028.93913%2012.377043%2042.384696%2041.360695%2042.384696%20110.636522%201.024%20261.654261%201.024%20372.290783%201.024zM640.890435%2073.906087h312.32v314.412522h-312.32V73.861565zM491.965217%20574.419478v-8.281043a45.990957%2045.990957%200%200%200-8.236521-20.702609c-8.281043-12.377043-24.84313-15.493565-38.288696-10.329043-1.024%201.024-3.116522%201.024-4.140522%202.092521h-361.961739c-26.89113%200-40.336696%2013.401043-40.336696%2040.292174v378.523826c0%2023.774609%2014.469565%2038.288696%2038.288696%2038.288696h376.431304c22.706087%200%2038.288696-13.445565%2038.288696-36.196174v-383.688348zM410.267826%20926.052174h-288.500869c-9.349565%200-12.466087-2.092522-12.466087-12.466087v-291.617391c0-9.305043%203.116522-12.377043%2012.466087-12.377044h301.946434v304.038957c-1.024%2010.329043-4.140522%2012.421565-13.445565%2012.421565zM128.979478%20435.867826l66.203826-66.248348a34.326261%2034.326261%200%200%200%200-48.573217c-13.445565-14.469565-33.124174-14.469565-48.617739-1.068522-2.092522%202.092522-4.140522%204.140522-8.281043%207.257044v-102.4c0-14.469565%200-28.93913%203.116521-43.408696%2011.353043-54.806261%2057.878261-92.070957%20113.753044-93.050435h197.542956c19.634087%200%2035.172174-15.582609%2035.172174-35.172174%200-18.654609-14.514087-35.172174-33.124174-35.172174C420.641391%2018.031304%20266.50713%2016.918261%20232.403478%2020.034783%20152.709565%2027.336348%2083.478261%2093.540174%2072.125217%20173.189565c-4.140522%2032.055652-3.116522%20106.540522-4.140521%20139.620174v14.469565c-3.116522-3.116522-5.209043-4.140522-7.257044-6.233043-16.562087-14.425043-35.172174-14.425043-49.641739%200-13.445565%2014.514087-13.445565%2034.148174%201.024%2049.686261%2021.726609%2021.682087%2043.453217%2044.477217%2065.179826%2066.159304%2015.493565%2013.445565%2037.220174%2013.445565%2051.689739-1.024z%20m928.723479%20191.265391A2188.733217%202188.733217%200%200%200%20988.382609%20557.857391a31.209739%2031.209739%200%200%200-44.477218%200%202254.58087%202254.58087%200%200%200-70.344348%2070.344348c-13.401043%2013.445565-12.377043%2034.103652%201.068522%2047.549218%2014.469565%2014.469565%2034.148174%2014.469565%2048.617739%201.024%202.048-2.048%204.140522-4.140522%208.281044-7.212522%200%2029.96313%201.024%20100.307478%200%20128.222608-2.092522%2055.874783-47.593739%20104.448-102.4%20108.633044-31.031652%202.048-180.98087%200.979478-210.988522%200.979478a34.860522%2034.860522%200%200%200-35.172174%2035.172174c0%2019.678609%2015.538087%2035.172174%2035.172174%2035.172174%2030.007652%200%20178.93287%201.024%20208.896%200%2085.837913-3.116522%20163.394783-75.50887%20171.675826-161.346783%203.116522-31.031652%202.092522-104.448%202.092522-135.479652v-11.353043l8.281043%208.281043c14.469565%2012.377043%2036.196174%2012.377043%2048.573218-1.068521%2012.466087-14.469565%2012.466087-36.196174%200-49.64174z'%20fill='%232c2c2c'%20%3e%3c/path%3e%3c/svg%3e",label:"被顶替",nodeType:"Replace",disabled:u||g||c,action:()=>function(e){if(!e.parent)return void M.error("根节点无法删除").then((t=>t));if(a.select(`#node-${e.data.scriptId}`).transition().duration(500).style("opacity",0).attr("transform",`translate(${e.parent.y},${e.parent.x})`).on("end",(function(){ge(this).remove()})),e.children&&e.children.length>=1){const t=e.children[0];ge(`#${co(e.parent.data.scriptId,e.data.scriptId)}`).attr("id",`${co(e.parent.data.scriptId,t.data.scriptId)}`),ge(`#${co(e.data.scriptId,t.data.scriptId)}`).transition().duration(600).style("opacity",0).remove(),e.children.forEach((n=>{n!==t&&ge(`#${co(e.data.scriptId,n.data.scriptId)}`).attr("id",`${co(t.data.scriptId,n.data.scriptId)}`)})),a.select(`#node-${t.data.scriptId}`).transition().duration(650).attrTween("transform",(function(t){const n=_n(t.x,e.x),r=_n(t.y,e.y);return function(t){return`translate(${r(t)},${n(t)})`}}))}else ge(`#${co(e.parent.data.scriptId,e.data.scriptId)}`).transition().duration(450).style("opacity",0).remove();const n=e.parent.children;if(n)if(e.children&&e.children.length>0){const t=e.children[0];if(v(t,t.depth-1),e.parent.children=n.map((n=>n===e?t:n)),e.children.length>1){const n=e.children.slice(1);t.children=t.children?t.children.concat(n):n,n.forEach((e=>{e.parent=t}))}t.parent=e.parent}else e.parent.children=n.filter((t=>t!==e)),0===e.parent.children.length&&delete e.parent.children;if(e.data.children&&e.data.children.length>0){const t=e.data.children[0];if(e.data.children.length>1){const n=e.data.children.slice(1);t.children=(t.children||[]).concat(n)}const n=e.parent.data.children,r=n.findIndex((t=>t.scriptId===e.data.scriptId));-1!==r&&n.splice(r,1,t)}else{const t=e.parent.data.children,n=t.findIndex((t=>t.scriptId===e.data.scriptId));-1!==n&&t.splice(n,1)}setTimeout((()=>{lo(t)}),750)}(e.menuNode)},{icon:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M836.6%20193.8h100.2c18.8%200%2033.9-16.2%2033.9-36.3s-15.1-35.2-33.9-35.2H724.9V85.9C724.9%2040%20690%202%20646.6%202H377.9c-42.8%200-78.3%2037.5-78.3%2083.9v36.3H87.2c-18.8%200-33.9%2016.2-33.9%2036.3s15.1%2036.3%2033.9%2036.3h100.2l649.2-1zM804.6%20253.7l-585.2%201c-20.5%200-37.2%2017.6-37.2%2039.2V890c0%2072.6%2056.3%20132%20125.1%20132h409.4c68.8%200%20125.1-59.4%20125.1-132V293c0-21.7-16.7-39.3-37.2-39.3z'%3e%3c/path%3e%3c/svg%3e",label:"删除当前节点",nodeType:"Delete",disabled:u,action:()=>function(e){if(!e.parent)return void M.error("根节点无法删除").then((t=>t));a.select(`#node-${e.data.scriptId}`).transition().duration(500).style("opacity",0).attr("transform",`translate(${e.parent.y},${e.parent.x})`).on("end",(function(){ge(this).remove()})),ge(`#${co(e.parent.data.scriptId,e.data.scriptId)}`).transition().duration(450).style("opacity",0).remove(),e.children&&e.children.length>0&&e.children.forEach((t=>{const n=co(e.data.scriptId,t.data.scriptId),r=co(e.parent.data.scriptId,t.data.scriptId);ge(`#${n}`).attr("id",r)}));const n=e.parent.children;if(n){const t=[...n],r=t.findIndex((t=>t===e));-1!==r&&(e.children&&e.children.length>0?(t.splice(r,1,...e.children),e.children.forEach((t=>{t.parent=e.parent,v(t,t.parent.depth+1)}))):t.splice(r,1)),0===t.length?delete e.parent.children:e.parent.children=t}if(e.data.children&&e.data.children.length>0){const t=e.parent.data.children,n=t.findIndex((t=>t.scriptId===e.data.scriptId));-1!==n&&t.splice(n,1,...e.data.children)}else e.parent.data.children=null;setTimeout((()=>{lo(t)}),650)}(e.menuNode)},{icon:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M426.666667%2085.333333L384%20128H170.666667v85.333333h682.666666V128h-213.333333l-42.666667-42.666667h-170.666666zM213.333333%20298.666667v554.666666c0%2046.933333%2038.4%2085.333333%2085.333334%2085.333334h308.053333l85.76-85.333334H597.333333V384h85.333334v297.770667l19.84-19.754667%2030.165333-30.165333a42.624%2042.624%200%200%201%2060.330667%200l17.664%2017.664V298.666667H213.333333z%20m128%2085.333333h85.333334v469.333333H341.333333V384z%20m421.504%20338.346667l-60.330666%2060.330666%2090.453333%2090.453334-90.453333%2090.538666L762.837333%201024%20853.333333%20933.504%20943.829333%201024l60.330667-60.330667-90.453333-90.496%2090.453333-90.496-60.330667-60.330666L853.333333%20812.8l-90.496-90.453333z'%20fill='%232C2A2A'%20%3e%3c/path%3e%3c/svg%3e",label:"删除节点树",nodeType:"DeleteTree",disabled:c||u,action:()=>s(e.menuNode)},{icon:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M909.3%20506.3L781.7%20405.6c-4.7-3.7-11.7-0.4-11.7%205.7V476H548V254h64.8c6%200%209.4-7%205.7-11.7L517.7%20114.7c-2.9-3.7-8.5-3.7-11.3%200L405.6%20242.3c-3.7%204.7-0.4%2011.7%205.7%2011.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7%20506.3c-3.7%202.9-3.7%208.5%200%2011.3l127.5%20100.8c4.7%203.7%2011.7%200.4%2011.7-5.7V548h222v222h-64.8c-6%200-9.4%207-5.7%2011.7l100.8%20127.5c2.9%203.7%208.5%203.7%2011.3%200l100.8-127.5c3.7-4.7%200.4-11.7-5.7-11.7H548V548h222v64.8c0%206%207%209.4%2011.7%205.7l127.5-100.8c3.7-2.9%203.7-8.5%200.1-11.4z'%3e%3c/path%3e%3c/svg%3e",label:"拖拽节点",nodeType:"drag",disabled:c||u,action:()=>function(){const n={x:0,y:0},r=function(){var t,e,n,r,i=Ee,o=Me,a=Ce,s=Te,l={},c=Q("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,ye).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&i.call(this,a,s)){var l=x(this,o.call(this,a,s),a,s,"mouse");l&&(ge(a.view).on("mousemove.drag",p,ve).on("mouseup.drag",g,ve),be(a.view),xe(a),n=!1,t=a.clientX,e=a.clientY,l("start",a))}}function p(r){if(we(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function g(t){ge(t.view).on("mousemove.drag mouseup.drag",null),_e(t.view,n),we(t),l.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),l=a.length;for(n=0;n<l;++n)(r=x(this,s,t,e,a[n].identifier,a[n]))&&(xe(t),r("start",t,a[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(we(t),n("drag",t,r[e]))}function v(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(xe(t),n("end",t,i[e]))}function x(t,e,n,r,i,o){var s,h,f,p=c.copy(),g=me(o||n,e);if(null!=(f=a.call(t,new ke("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-g[0]||0,h=f.y-g[1]||0,function n(o,a,c){var m,y=g;switch(o){case"start":l[i]=n,m=u++;break;case"end":delete l[i],--u;case"drag":g=me(c||a,e),m=u}p.call(o,t,new ke(o,{sourceEvent:a,subject:f,target:d,identifier:i,active:m,x:g[0]+s,y:g[1]+h,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:Se(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:Se(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:Se(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Se(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}().on("start",(function(t,e){if(e===o)return void M.error("根节点不可拖拽").then((t=>t));n.x=t.x,n.y=t.y;e.descendants().forEach((t=>{t.relativeX=t.x-e.x,t.relativeY=t.y-e.y}))})).on("drag",(function(r,i){if(e.setDraggingNode(i),i===o)return void M.error("根节点不可拖拽").then((t=>t));const s=r.x-n.x,l=r.y-n.y;ge(`#${co(i.parent.data.scriptId,i.data.scriptId)}`).transition().duration(100).style("opacity",0).on("end",(function(){ge(this).remove()})),i.x=n.x+l,i.y=n.y+s,i.descendants().forEach((t=>{t.x=i.x+t.relativeX,t.y=i.y+t.relativeY,ge(`#node-${t.data.scriptId}`).attr("transform","End"==t.data.scriptType?`translate(${t.y-f},${t.x})`:`translate(${t.y},${t.x})`)})),ge(this).attr("transform",`translate(${i.y},${i.x})`),i.descendants().forEach((t=>{const e={source:t.parent,target:t};ge(`#${co(e.source.data.scriptId,e.target.data.scriptId)}`).attr("d",(function(){if("End"===t.data.scriptType){const t=e.target.y-f,n={x:e.target.x,y:t};return fi().x((t=>t.y)).y((t=>t.x))({source:e.source,target:n})}return fi().x((t=>t.y)).y((t=>t.x))(e)}))}));let c=null,u=1/0;o.descendants().forEach((t=>{if(t!==i&&"End"!==t.data.scriptType){const e=Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2);e<u&&(u=e,c=t)}})),c&&u<120?(t.closestNodeRef=c,a.select(".preview-line").style("opacity",1).attr("d",li()([[i.y,i.x],[c.y,c.x]]))):(t.closestNodeRef=null,a.select(".preview-line").style("opacity",0))})).on("end",(function(n,r){var i;if(r===o)return void M.error("根节点不可拖拽").then((t=>t));const s=t.closestNodeRef;if(s){const n=r.parent,o=n.children;if(o&&(n.children=o.filter((t=>t!==r)),0===n.children.length&&delete n.children),n.data.children)for(let t=0;t<(null==(i=n.data.children)?void 0:i.length);t++)n.data.children[t].scriptId===r.data.scriptId&&n.data.children.splice(t,1);r.parent=s,s.children||(s.children=[]),v(r,s.depth+1),s.children.push(r),s.data.children||(s.data.children=[]),s.data.children.push(r.data),lo(t),a.select(".preview-line").style("opacity",0),t.closestNodeRef=null,e.setDraggingNode(null),a.selectAll(".node").on(".drag",null)}}));a.selectAll(".node").call(r)}()}];function v(t,e){t.depth=e,t.children&&t.children.forEach((t=>v(t,e+1)))}return i.jsx("div",{style:{position:"absolute",left:n.x-r,top:n.y},children:i.jsx(E,{content:i.jsx("div",{className:ho,children:y.map(((t,e)=>i.jsxs("div",{className:`${fo} ${t.disabled?go:""}`,onClick:t.disabled?void 0:t.action,children:[i.jsx("img",{style:{width:"24px",height:"24px"},src:t.icon,alt:t.label}),i.jsx("span",{className:po,children:t.label})]},e)))}),open:null==e.draggingNode})})})),yo="_dropdownCustom_1eryk_9",vo="_iconWrapper_1eryk_26",xo="_bubble_7rv1p_2",wo="_expanded_7rv1p_23",bo="_fixedIcon_7rv1p_40",_o="_dragIcon_7rv1p_59",So="_expandedContent_7rv1p_78",ko="_icon_7rv1p_86",Eo={myScriptTextMarginDecoration:"_myScriptTextMarginDecoration_coigf_1",codeDiffViewer:"_codeDiffViewer_coigf_10"};function Mo(t,e="|"){return t.split(e)}const Co=/(-?\d*\.\d\w*)|([^`~!@#%^&*()\-=+[{\]}\\|;:'",./?\s]+)/g,To=[["{","}"],["[","]"],["(",")"]],No=[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"}],jo=[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],$o=jo,Do="groovy",Io=t=>{t.languages.register({id:Do,aliases:["Groovy"]}),t.languages.setMonarchTokensProvider(Do,{brackets:No,tokenPostfix:".groovy",keywords:Mo("assert|with|abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|def|float|native|super|while|in|as"),typeKeywords:Mo("Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object"),constants:Mo("null|Infinity|NaN|undefined|true|false"),builtinFunctions:Mo("AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException"),operators:[".",".&",".@","?.","*","*.","*:","~","!","++","--","**","+","-","*","/","%","<<",">>",">>>","..","..<","<","<=",">",">","==","!=","<=>","===","!==","=~","==~","^","|","&&","||","?",":","?:","=","**=","*=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","?="],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"'`]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,regexpctl:/[(){}[\]$^|\-*+?.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[{include:"@whitespace"},[/\/(?=([^\\/]|\\.)+\/([dgimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],{include:"@comments"},{include:"@numbers"},{include:"common"},[/[;,.]/,"delimiter"],[/[(){}[\]]/,"@brackets"],[/[a-zA-Z_$]\w*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@constants":"constant.groovy","@builtinFunctions":"constant.other.color","@default":"identifier"}}],[/@symbols/,{cases:{"@operators":"operator","@default":""}}]],common:[[/[()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\/(?=([^\\/]|\\.)+\/([gimsuy]*)(\s*)(\.|;|\/|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"]],whitespace:[[/\s+/,"white"]],comments:[[/\/\/.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],commentAnsi:[[/\/\*/,{token:"comment.quote",next:"@comment"}],[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?f?\b/,"number.float"],[/[+-]?(?:0[obx])?\d+(?:u?[lst]?)?\b/,"number"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([gimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],embedded:[[/([^@]|^)([@]{4})*[@]{2}([@]([^@]|$)|[^@]|$)/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],string_double:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\"$]+/,"string"],[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\"$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}),t.languages.setLanguageConfiguration(Do,{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:To,autoClosingPairs:jo,surroundingPairs:$o,wordPattern:Co});const e={provideCompletionItems:function(e,n){const r=e.getWordUntilPosition(n),i={startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn};return{suggestions:[{label:"println",kind:t.languages.CompletionItemKind.Function,insertText:'println("${1}")',insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"打印一行到控制台",range:i},{label:"for",kind:t.languages.CompletionItemKind.Keyword,insertText:"for (int ${1:i} = 0; ${1:i} < ${2:condition}; ${1:i}++) {\n\t${3}\n}",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Groovy for 循环",range:i},{label:"binding.setVariable",kind:t.languages.CompletionItemKind.Keyword,insertText:'binding.setVariable("${1:name}", ${2:value})',insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"binding.setVariable",range:i},{label:"binding.getVariable",kind:t.languages.CompletionItemKind.Keyword,insertText:'binding.setVariable("${1:name}")',insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"binding.getVariable",range:i}]}},resolveCompletionItem:function(t){return t}};t.languages.registerCompletionItemProvider("groovy",e)},Oo=({originalCode:r,modifiedCode:o,language:a,onLineClick:s})=>{const l=w.useRef(null);return w.useEffect((()=>{let i;if("groovy"==a&&Io(t),l.current){i=e.createDiffEditor(l.current,{scrollBeyondLastLine:!1,readOnly:!0,contextmenu:!0,automaticLayout:!0});const t=e.createModel(r,a),c=e.createModel(o,a);i.setModel({original:t,modified:c}),setTimeout((()=>{const e=i.getLineChanges();if(e){const r=[],o=[];e.forEach((t=>{for(let e=t.modifiedStartLineNumber;e<=t.modifiedEndLineNumber;e++){c.getLineContent(e).includes("scriptText")&&r.push({range:new n(e,1,e,1),options:{isWholeLine:!0,linesDecorationsClassName:Eo.myScriptTextDecoration,marginClassName:Eo.myScriptTextMarginDecoration}})}})),e.forEach((e=>{for(let r=e.originalStartLineNumber;r<=e.originalEndLineNumber;r++){t.getLineContent(r).includes("scriptText")&&o.push({range:new n(r,1,r,1),options:{isWholeLine:!0,linesDecorationsClassName:Eo.myScriptTextDecoration,marginClassName:Eo.myScriptTextMarginDecoration}})}})),i.getModifiedEditor().createDecorationsCollection(r),i.getOriginalEditor().createDecorationsCollection(o),i.getModifiedEditor().onMouseDown((t=>{if(3==t.target.type||4==t.target.type){const e=t.target.position.lineNumber,n=i.getModifiedEditor().getModel().getLineContent(e);s&&s(n)}})),i.getOriginalEditor().onMouseDown((t=>{if(3==t.target.type||4==t.target.type){const e=t.target.position.lineNumber,n=i.getOriginalEditor().getModel().getLineContent(e);s&&s(n)}}))}}),10)}return()=>{i&&i.dispose()}}),[r,o,a]),i.jsx("div",{ref:l,className:Eo.codeDiffViewer})},Ao=({color:t,label:e,onRemove:n})=>{const r="grey"!==t;return i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},children:[i.jsx("div",{style:{width:"35px",height:"35px",borderRadius:"50%",backgroundColor:t,position:"relative"},children:r&&i.jsx(W,{style:{color:"red",position:"absolute",top:"-10px",right:"-10px",cursor:"pointer"},onClick:n})}),i.jsx("span",{title:e,style:{fontSize:"10px",marginTop:"4px",maxWidth:"70px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e})]})},Po=(t,e)=>{if(t.scriptId===e)return t;if(t.children)for(const n of t.children){const t=Po(n,e);if(t)return t}};var zo=(t=>(t[t.Start=0]="Start",t[t.Script=1]="Script",t[t.Condition=2]="Condition",t[t.Rule=3]="Rule",t[t.Fork=4]="Fork",t[t.Join=5]="Join",t[t.End=6]="End",t))(zo||{});const Lo=({treeChartState:t})=>{const[e,n]=w.useState("1"),[r,o]=w.useState(""),[a,s]=w.useState("1"),[l,c]=w.useState(!1),[u,h]=w.useState(""),[d,f]=w.useState([]),[p,y]=w.useState(!1),v=()=>{c((t=>!t))},x=[{key:"1",label:"Debug Output",children:i.jsx(A,{size:"small",defaultActiveKey:"1",items:d})}],b=[{label:"Form Fields",key:"1",children:i.jsx(C,{gutter:16,children:t.currentData.workflowParameters&&t.currentData.workflowParameters.map((t=>i.jsx(T,{span:24,children:i.jsx(N.Item,{label:i.jsxs("div",{children:[t.parameterName,"      ",i.jsxs("span",{style:{color:"red"},children:[" (",t.parameterType,")"]})]}),name:t.parameterName,children:i.jsx(j,{placeholder:`Enter ${t.parameterName}`})})},t.parameterName)))})},{label:"JSON Input",key:"2",children:i.jsx(N.Item,{name:"jsonInput",label:"JSON Content",children:i.jsx("div",{style:{border:"1px solid #e1e4e8",background:"#f6f8fa",borderRadius:"4px",padding:"10px"},children:i.jsx(g,{height:"300px",defaultLanguage:"json",onChange:t=>{o(t||"")},options:{scrollBeyondLastLine:!1,fontSize:16}})})})}];return i.jsxs(N,{name:"basic",autoComplete:"off",layout:"vertical",onFinish:n=>{y(!0);const{jsonInput:o,...s}=n,l=Po(t.currentData.scriptMetadata,a);if(!l)return M.error("Script ID not found").then((t=>t)),void y(!1);let c;c="1"===e?{scriptMetadata:l,inputValues:s}:{scriptMetadata:l,inputValues:r?JSON.parse(r):{}},h(""),m(c).then((t=>{const e=(n=t,Object.entries(n).flatMap((([t,e])=>{if(e.length>1){const n=e.map((t=>t.scriptName)).join(", "),r=e.map(((e,n)=>({key:`${t}-${n}`,label:e.scriptType==zo.End?zo.End.toString():e.scriptName,style:{backgroundColor:1==e.scriptRunResult?"#c5f8ac":"inherit"},children:i.jsx(g,{height:"30vh",defaultLanguage:"json",options:{contextmenu:!0,wordWrap:"off",scrollBeyondLastLine:!1,automaticLayout:!0,fontSize:16,readOnly:!0},defaultValue:JSON.stringify(e,null,2)},Math.random())}))),o=i.jsx(S.Fragment,{children:i.jsxs("span",{style:{color:"red"},children:["(",n,")",` level:${t}`]})});return[{key:t,label:o,children:i.jsx(A,{size:"small",defaultActiveKey:[t],items:r})}]}if(1===e.length){const n=e[0],r=n.scriptType==zo.End?zo.End.toString():n.scriptName,o=n.scriptType===zo.End?i.jsx("div",{children:i.jsxs("p",{children:["Status: ",n.scriptRunStatus]})}):i.jsx(g,{height:"30vh",defaultLanguage:"json",options:{contextmenu:!0,wordWrap:"off",scrollBeyondLastLine:!1,automaticLayout:!0,fontSize:16,readOnly:!0},defaultValue:JSON.stringify(n,null,2)},Math.random());return[{key:t,label:r,children:o}]}return[]})));var n;f(e),y(!1),setTimeout((()=>h("1")),100)})).catch((t=>{M.error("流程出现系统内部异常").then((t=>t)),y(!1)}))},children:[i.jsx(N.Item,{label:"Script ID",children:i.jsx(j,{value:a,onChange:t=>s(t.target.value),disabled:!l,addonAfter:l?i.jsx($,{onClick:v}):i.jsx(D,{onClick:v})})}),i.jsx(I,{items:b,defaultActiveKey:"1",type:"card",onChange:n}),i.jsx(N.Item,{children:i.jsx(O,{type:"primary",loading:p,htmlType:"submit",style:{width:"100%"},children:"调试"})}),i.jsx(A,{onChange:t=>{let e="";e=Array.isArray(t)?t.includes(u)?"":t[0]:u===t?"1":t,h(e)},size:"small",activeKey:u,items:x})]})};var Ro={exports:{}},Bo={},Xo={exports:{}};function Vo(){}function Yo(){}Yo.resetWarningCache=Vo;Xo.exports=function(){function t(t,e,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yo,resetWarningCache:Vo};return n.PropTypes=n,n}();var Ho=Xo.exports;function Wo(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Wo(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Uo(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Wo(t))&&(r&&(r+=" "),r+=e);return r}const qo=P(Object.freeze(Object.defineProperty({__proto__:null,clsx:Uo,default:Uo},Symbol.toStringTag,{value:"Module"})));var Fo={},Go={};Object.defineProperty(Go,"__esModule",{value:!0}),Go.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))},Go.findInArray=function(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},Go.int=function(t){return parseInt(t,10)},Go.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},Go.isNum=function(t){return"number"==typeof t&&!isNaN(t)};var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.browserPrefixToKey=Qo,Ko.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},Ko.default=void 0,Ko.getPrefix=Zo;const Jo=["Moz","Webkit","O","ms"];function Zo(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const n=null===(t=window.document)||void 0===t||null===(t=t.documentElement)||void 0===t?void 0:t.style;if(!n)return"";if(e in n)return"";for(let r=0;r<Jo.length;r++)if(Qo(e,Jo[r])in n)return Jo[r];return""}function Qo(t,e){return e?"".concat(e).concat(function(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}Ko.default=Zo(),Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.addClassName=aa,Fo.addEvent=function(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},Fo.addUserSelectStyles=function(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e));t.body&&aa(t.body,"react-draggable-transparent-selection")},Fo.createCSSTransform=function(t,e){const n=oa(t,e,"px");return{[(0,ea.browserPrefixToKey)("transform",ea.default)]:n}},Fo.createSVGTransform=function(t,e){return oa(t,e,"")},Fo.getTouch=function(t,e){return t.targetTouches&&(0,ta.findInArray)(t.targetTouches,(t=>e===t.identifier))||t.changedTouches&&(0,ta.findInArray)(t.changedTouches,(t=>e===t.identifier))},Fo.getTouchIdentifier=function(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier},Fo.getTranslation=oa,Fo.innerHeight=function(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,ta.int)(n.paddingTop),e-=(0,ta.int)(n.paddingBottom),e},Fo.innerWidth=function(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,ta.int)(n.paddingLeft),e-=(0,ta.int)(n.paddingRight),e},Fo.matchesSelector=ia,Fo.matchesSelectorAndParentsTo=function(t,e,n){let r=t;do{if(ia(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},Fo.offsetXYFromParent=function(t,e,n){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-r.left)/n,o=(t.clientY+e.scrollTop-r.top)/n;return{x:i,y:o}},Fo.outerHeight=function(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,ta.int)(n.borderTopWidth),e+=(0,ta.int)(n.borderBottomWidth),e},Fo.outerWidth=function(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,ta.int)(n.borderLeftWidth),e+=(0,ta.int)(n.borderRightWidth),e},Fo.removeClassName=sa,Fo.removeEvent=function(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},Fo.removeUserSelectStyles=function(t){if(!t)return;try{if(t.body&&sa(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(e){}};var ta=Go,ea=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=na(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}r.default=t,n&&n.set(t,r);return r}(Ko);function na(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(na=function(t){return t?n:e})(t)}let ra="";function ia(t,e){return ra||(ra=(0,ta.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,ta.isFunction)(t[e])}))),!!(0,ta.isFunction)(t[ra])&&t[ra](e)}function oa(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const t="".concat("string"==typeof e.x?e.x:e.x+n),r="".concat("string"==typeof e.y?e.y:e.y+n);o="translate(".concat(t,", ").concat(r,")")+o}return o}function aa(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function sa(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},la.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},la.createCoreData=function(t,e,n){const r=!(0,ca.isNum)(t.lastX),i=ha(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}},la.createDraggableData=function(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}},la.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r="string"==typeof r?r:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(r);const i=ha(t);if("string"==typeof r){const{ownerDocument:t}=i,e=t.defaultView;let n;if(n="parent"===r?i.parentNode:t.querySelector(r),!(n instanceof e.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const o=n,a=e.getComputedStyle(i),s=e.getComputedStyle(o);r={left:-i.offsetLeft+(0,ca.int)(s.paddingLeft)+(0,ca.int)(a.marginLeft),top:-i.offsetTop+(0,ca.int)(s.paddingTop)+(0,ca.int)(a.marginTop),right:(0,ua.innerWidth)(o)-(0,ua.outerWidth)(i)-i.offsetLeft+(0,ca.int)(s.paddingRight)-(0,ca.int)(a.marginRight),bottom:(0,ua.innerHeight)(o)-(0,ua.outerHeight)(i)-i.offsetTop+(0,ca.int)(s.paddingBottom)-(0,ca.int)(a.marginBottom)}}(0,ca.isNum)(r.right)&&(e=Math.min(e,r.right));(0,ca.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,ca.isNum)(r.left)&&(e=Math.max(e,r.left));(0,ca.isNum)(r.top)&&(n=Math.max(n,r.top));return[e,n]},la.getControlPosition=function(t,e,n){const r="number"==typeof e?(0,ua.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;const i=ha(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,ua.offsetXYFromParent)(r||t,o,n.props.scale)},la.snapToGrid=function(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]};var ca=Go,ua=Fo;function ha(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var da={},fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=function(){},Object.defineProperty(da,"__esModule",{value:!0}),da.default=void 0;var pa=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_a(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}r.default=t,n&&n.set(t,r);return r}(w),ga=ba(Ho),ma=ba(k),ya=Fo,va=la,xa=Go,wa=ba(fa);function ba(t){return t&&t.__esModule?t:{default:t}}function _a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(_a=function(t){return t?n:e})(t)}function Sa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ka={start:"touchstart",move:"touchmove",stop:"touchend"},Ea={start:"mousedown",move:"mousemove",stop:"mouseup"};let Ma=Ea,Ca=class extends pa.Component{constructor(){super(...arguments),Sa(this,"dragging",!1),Sa(this,"lastX",NaN),Sa(this,"lastY",NaN),Sa(this,"touchIdentifier",null),Sa(this,"mounted",!1),Sa(this,"handleDragStart",(t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=e;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,ya.matchesSelectorAndParentsTo)(t.target,this.props.handle,e)||this.props.cancel&&(0,ya.matchesSelectorAndParentsTo)(t.target,this.props.cancel,e))return;"touchstart"===t.type&&t.preventDefault();const r=(0,ya.getTouchIdentifier)(t);this.touchIdentifier=r;const i=(0,va.getControlPosition)(t,r,this);if(null==i)return;const{x:o,y:a}=i,s=(0,va.createCoreData)(this,o,a);(0,wa.default)("DraggableCore: handleDragStart: %j",s),(0,wa.default)("calling",this.props.onStart);!1!==this.props.onStart(t,s)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,ya.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=a,(0,ya.addEvent)(n,Ma.move,this.handleDrag),(0,ya.addEvent)(n,Ma.stop,this.handleDragStop))})),Sa(this,"handleDrag",(t=>{const e=(0,va.getControlPosition)(t,this.touchIdentifier,this);if(null==e)return;let{x:n,y:r}=e;if(Array.isArray(this.props.grid)){let t=n-this.lastX,e=r-this.lastY;if([t,e]=(0,va.snapToGrid)(this.props.grid,t,e),!t&&!e)return;n=this.lastX+t,r=this.lastY+e}const i=(0,va.createCoreData)(this,n,r);(0,wa.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(t,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(o){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),Sa(this,"handleDragStop",(t=>{if(!this.dragging)return;const e=(0,va.getControlPosition)(t,this.touchIdentifier,this);if(null==e)return;let{x:n,y:r}=e;if(Array.isArray(this.props.grid)){let t=n-this.lastX||0,e=r-this.lastY||0;[t,e]=(0,va.snapToGrid)(this.props.grid,t,e),n=this.lastX+t,r=this.lastY+e}const i=(0,va.createCoreData)(this,n,r);if(!1===this.props.onStop(t,i)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,ya.removeUserSelectStyles)(o.ownerDocument),(0,wa.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,wa.default)("DraggableCore: Removing handlers"),(0,ya.removeEvent)(o.ownerDocument,Ma.move,this.handleDrag),(0,ya.removeEvent)(o.ownerDocument,Ma.stop,this.handleDragStop))})),Sa(this,"onMouseDown",(t=>(Ma=Ea,this.handleDragStart(t)))),Sa(this,"onMouseUp",(t=>(Ma=Ea,this.handleDragStop(t)))),Sa(this,"onTouchStart",(t=>(Ma=ka,this.handleDragStart(t)))),Sa(this,"onTouchEnd",(t=>(Ma=ka,this.handleDragStop(t))))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,ya.addEvent)(t,ka.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:e}=t;(0,ya.removeEvent)(e,Ea.move,this.handleDrag),(0,ya.removeEvent)(e,ka.move,this.handleDrag),(0,ya.removeEvent)(e,Ea.stop,this.handleDragStop),(0,ya.removeEvent)(e,ka.stop,this.handleDragStop),(0,ya.removeEvent)(t,ka.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ya.removeUserSelectStyles)(e)}}findDOMNode(){var t,e;return null!==(t=this.props)&&void 0!==t&&t.nodeRef?null===(e=this.props)||void 0===e||null===(e=e.nodeRef)||void 0===e?void 0:e.current:ma.default.findDOMNode(this)}render(){return pa.cloneElement(pa.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};da.default=Ca,Sa(Ca,"displayName","DraggableCore"),Sa(Ca,"propTypes",{allowAnyClick:ga.default.bool,children:ga.default.node.isRequired,disabled:ga.default.bool,enableUserSelectHack:ga.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ga.default.arrayOf(ga.default.number),handle:ga.default.string,cancel:ga.default.string,nodeRef:ga.default.object,onStart:ga.default.func,onDrag:ga.default.func,onStop:ga.default.func,onMouseDown:ga.default.func,scale:ga.default.number,className:xa.dontSetMe,style:xa.dontSetMe,transform:xa.dontSetMe}),Sa(Ca,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}r.default=t,n&&n.set(t,r);return r}(w),n=u(Ho),r=u(k),i=u(qo),o=Fo,a=la,s=Go,l=u(da),c=u(fa);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class p extends e.Component{static getDerivedStateFromProps(t,e){let{position:n}=t,{prevPropsPosition:r}=e;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(t){super(t),f(this,"onDragStart",((t,e)=>{(0,c.default)("Draggable: onDragStart: %j",e);if(!1===this.props.onStart(t,(0,a.createDraggableData)(this,e)))return!1;this.setState({dragging:!0,dragged:!0})})),f(this,"onDrag",((t,e)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",e);const n=(0,a.createDraggableData)(this,e),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:t,y:e}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,o]=(0,a.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=o,r.slackX=this.state.slackX+(t-r.x),r.slackY=this.state.slackY+(e-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(t,n))return!1;this.setState(r)})),f(this,"onDragStop",((t,e)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(t,(0,a.createDraggableData)(this,e)))return!1;(0,c.default)("Draggable: onDragStop: %j",e);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:t,y:e}=this.props.position;n.x=t,n.y=e}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!t.onDrag&&t.onStop}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var t,e;return null!==(t=null===(e=this.props)||void 0===e||null===(e=e.nodeRef)||void 0===e?void 0:e.current)&&void 0!==t?t:r.default.findDOMNode(this)}render(){const{axis:t,bounds:n,children:r,defaultPosition:s,defaultClassName:c,defaultClassNameDragging:u,defaultClassNameDragged:h,position:f,positionOffset:p,scale:g,...m}=this.props;let y={},v=null;const x=!Boolean(f)||this.state.dragging,w=f||s,b={x:(0,a.canDragX)(this)&&x?this.state.x:w.x,y:(0,a.canDragY)(this)&&x?this.state.y:w.y};this.state.isElementSVG?v=(0,o.createSVGTransform)(b,p):y=(0,o.createCSSTransform)(b,p);const _=(0,i.default)(r.props.className||"",c,{[u]:this.state.dragging,[h]:this.state.dragged});return e.createElement(l.default,d({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(r),{className:_,style:{...r.props.style,...y},transform:v}))}}t.default=p,f(p,"displayName","Draggable"),f(p,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),f(p,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Bo);const{default:Ta,DraggableCore:Na}=Bo;Ro.exports=Ta,Ro.exports.default=Ta,Ro.exports.DraggableCore=Na;const ja=z(Ro.exports),$a=()=>({x:40,y:window.innerHeight-120}),Da=({treeChartState:t})=>{const[e,n]=L.useNotification(),[r,o]=M.useMessage(),[a,s]=w.useState($a()),[l,c]=w.useState(!1),u=w.useRef(null),[h,d]=w.useState(!1),[f,p]=w.useState(!1),[g,m]=w.useState(!1),[x,b]=w.useState(null),[_,S]=w.useState(!1),[k,E]=w.useState(!1),[C,T]=w.useState(null),N=e=>{k||(c(!0),t.treeStore.setCurrentMenu(null),e.preventDefault(),u.current={offsetX:e.clientX-a.x,offsetY:e.clientY-a.y})},j=t=>{b((e=>{if(!e||0===e.length)return e;const n=e.filter(((e,n)=>n!==t));return n.length>0?n:[]}))};w.useEffect((()=>{null===x||A(x)}),[x]);const $=()=>{e.destroy("compareNotification"),S(!0)},D=()=>{e.destroy("compareNotification")},I=()=>{b([])},A=t=>{e.open({key:"compareNotification",message:"点击红点对比代码",description:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[t.length>0?i.jsx(Ao,{color:"green",label:t[0].label,onRemove:()=>j(0)}):i.jsx(Ao,{color:"grey",label:""}),t.length>1?i.jsx(Ao,{color:"green",label:t[1].label,onRemove:()=>j(1)}):i.jsx(Ao,{color:"grey",label:""})]}),style:{width:290},btn:i.jsxs("div",{children:[i.jsx(O,{type:"primary",onClick:$,disabled:null==x||x.length<2,style:{marginRight:8},children:"开始对比"}),i.jsx(O,{onClick:I,children:"清空"})]}),duration:null,placement:"top",onClose:D})},P=e=>{if(l){const n=e.clientX-u.current.offsetX,r=e.clientY-u.current.offsetY,i=t.svgRef.getBoundingClientRect(),o=i.left-310,a=h?i.right-1200:i.right-470,l=i.top+10,c=i.bottom+230,d=Math.max(Math.min(n,a),o),f=Math.max(Math.min(r,c),l);s({x:d,y:f})}},z=()=>{c(!1)},V=()=>{k?M.success("请先取消固定").then((t=>t)):d(!h)};w.useEffect((()=>{const t=()=>{s($a())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]),w.useEffect((()=>(l?(document.addEventListener("mousemove",P),document.addEventListener("mouseup",z)):(document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",z)),()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",z)})),[l]);const[Y,H]=w.useState(!0),[W,U]=w.useState({left:0,top:0,bottom:0,right:0}),q=w.useRef(null);return i.jsxs(i.Fragment,{children:[" ",n,o,i.jsx("div",{style:{left:`${a.x}px`,top:`${a.y}px`,transition:l?"none":"all 0.5s ease"},onClick:()=>{h||V()},className:h?wo:xo,onMouseDown:N,children:h?i.jsxs("div",{className:So,children:[i.jsx("div",{onClick:()=>{m(!0)},className:ko,children:i.jsx("img",{src:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4220'%20width='200'%20height='200'%3e%3cpath%20d='M1022.06544%20583.40119c0%2011.0558-4.034896%2020.61962-12.111852%2028.696576-8.077979%208.077979-17.639752%2012.117992-28.690436%2012.117992L838.446445%20624.215758c0%2072.690556-14.235213%20134.320195-42.718941%20184.89915l132.615367%20133.26312c8.076956%208.065699%2012.117992%2017.634636%2012.117992%2028.690436%200%2011.050684-4.034896%2020.614503-12.117992%2028.691459-7.653307%208.065699-17.209964%2012.106736-28.690436%2012.106736-11.475356%200-21.040199-4.041036-28.690436-12.106736L744.717737%20874.15318c-2.124384%202.118244-5.308913%204.88424-9.558703%208.283664-4.259%203.3984-13.180184%209.463536-26.78504%2018.171871-13.598716%208.715499-27.415396%2016.473183-41.439808%2023.276123-14.029528%206.797823-31.462572%2012.966313-52.289923%2018.49319-20.827351%205.517667-41.446971%208.28571-61.842487%208.28571L552.801776%20379.38668l-81.611739%200%200%20571.277058c-21.668509%200-43.250036-2.874467-64.707744-8.615215-21.473057-5.734608-39.960107-12.749372-55.476499-21.039175-15.518438-8.289804-29.541827-16.572444-42.077328-24.867364-12.541641-8.290827-21.781072-15.193027-27.739784-20.714787l-9.558703-8.93244L154.95056%20998.479767c-8.500605%208.921183-18.699897%2013.386892-30.606065%2013.386892-10.201339%200-19.335371-3.40454-27.409257-10.202363-8.079002-7.652284-12.437264-17.10968-13.080923-28.372188-0.633427-11.263531%202.659573-21.143553%209.893324-29.647227l128.787178-144.727219c-24.650423-48.464805-36.980239-106.699114-36.980239-174.710091L42.738895%20624.207571c-11.057847%200-20.61655-4.041036-28.690436-12.111852-8.079002-8.082072-12.120039-17.640776-12.120039-28.696576%200-11.050684%204.041036-20.61962%2012.120039-28.689413%208.073886-8.072863%2017.632589-12.107759%2028.690436-12.107759l142.81466%200L185.553555%20355.156836l-110.302175-110.302175c-8.074909-8.077979-12.113899-17.640776-12.113899-28.691459%200-11.04966%204.044106-20.61962%2012.113899-28.690436%208.071839-8.076956%2017.638729-12.123109%2028.691459-12.123109%2011.056823%200%2020.612457%204.052293%2028.692482%2012.123109l110.302175%20110.302175%20538.128077%200%20110.303198-110.302175c8.070816-8.076956%2017.632589-12.123109%2028.690436-12.123109%2011.050684%200%2020.617573%204.052293%2028.689413%2012.123109%208.077979%208.070816%2012.119015%2017.640776%2012.119015%2028.690436%200%2011.050684-4.041036%2020.614503-12.119015%2028.691459l-110.302175%20110.302175%200%20187.448206%20142.815683%200c11.0558%200%2020.618597%204.034896%2028.690436%2012.113899%208.076956%208.069793%2012.117992%2017.638729%2012.117992%2028.683273l0%200L1022.06544%20583.40119%201022.06544%20583.40119zM716.021162%20216.158085%20307.968605%20216.158085c0-56.526411%2019.871583-104.667851%2059.616796-144.414087%2039.733956-39.746236%2087.88256-59.611679%20144.411017-59.611679%2056.529481%200%20104.678084%2019.865443%20144.413064%2059.611679C696.156742%20111.48921%20716.021162%20159.631674%20716.021162%20216.158085L716.021162%20216.158085%20716.021162%20216.158085%20716.021162%20216.158085z'%20fill='%23272636'%20%3e%3c/path%3e%3c/svg%3e",alt:"icon",style:{width:"30px",height:"30px"}})}),i.jsx("div",{onClick:()=>{r.open({key:"loading",type:"loading",content:"Loading..."}),setTimeout((()=>{v(t.currentData).then((t=>{t?r.open({key:"loading",type:"success",content:"更新成功!",duration:2}):r.open({key:"loading",type:"error",content:"更新失败!",duration:2})}))}),500)},className:ko,children:i.jsx("img",{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1708788333085'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8837'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M621.461%20675.042h-28.299v178.88c0%2017.6-14.4%2032-32%2032H437.363c-17.6%200-32-14.4-32-32v-178.88h-32.211c-24.634%200-40.03-26.667-27.713-48L469.593%20412c12.317-21.333%2043.109-21.333%2055.426%200l124.155%20215.042c12.317%2021.334-3.079%2048-27.713%2048z'%20p-id='8838'%3e%3c/path%3e%3cpath%20d='M958.99%20500.007a830.82%20830.82%200%200%200-0.051-6.39l-0.021-1.369a33.988%2033.988%200%200%200-0.379-4.378c-0.136-5.652-0.248-11.446-0.248-16.018%200-61.18-24.707-118.63-69.57-161.768-44.521-42.809-103.627-66.385-166.43-66.385-9.129%200-18.313%200.526-27.476%201.571-22.103-29.633-50.251-54.559-82.368-72.787-39.661-22.509-84.846-34.406-130.669-34.406-51.873%200-102.133%2014.986-145.345%2043.337-36.917%2024.221-67.086%2057.04-88.069%2095.617-47.595%207.828-91.255%2030.54-124.459%2065.06-37.974%2039.478-58.887%2090.919-58.887%20144.848%200%202.714%200.004%204.623%200.008%206.351-0.001%200.072-0.007%200.142-0.008%200.214v0.009c-0.002%200.144-0.003%200.29-0.003%200.434l-0.008%208.107c0.002%202.434%200.225%204.734%200.625%206.912%207.398%2089.911%2082.99%20160.859%20174.73%20160.859h20.44c17.673%200%2032-14.327%2032-32s-14.327-32-32-32h-20.44c-61.287%200-111.229-49.866-111.331-111.18l-0.002-0.875c-0.005-1.86-0.009-3.85-0.009-6.833%200-76.592%2062.772-141.769%20142.908-148.38l18.652-1.539%207.803-17.011c32.862-71.642%20104.85-117.933%20183.398-117.933%2069.774%200%20133.688%2035.49%20170.967%2094.935l11.775%2018.776%2021.718-4.421c11.956-2.434%2024.086-3.668%2036.053-3.668%2094.841%200%20172%2073.639%20172%20164.153%200%207.508%200.252%2017.275%200.464%2025.295-1.437%2059.99-51.183%20108.679-111.202%20108.679h-45.828c-17.673%200-32%2014.327-32%2032s14.327%2032%2032%2032h45.828c46.123%200%2089.724-17.922%20122.771-50.464%2029.603-29.15%2047.628-66.962%2051.612-107.676%200.667-2.701%201.042-5.609%201.057-8.73a552.32%20552.32%200%200%200-0.006-2.946z'%20p-id='8839'%3e%3c/path%3e%3c/svg%3e",alt:"icon",style:{width:"42px",height:"42px"}})}),i.jsx("div",{onClick:async()=>{T(await y(t.currentData.workflowId)),p(!0)},className:ko,children:i.jsx("img",{src:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M146.286%2073.143h731.428a73.143%2073.143%200%200%201%2073.143%2073.143v731.428a73.143%2073.143%200%200%201-73.143%2073.143H146.286a73.143%2073.143%200%200%201-73.143-73.143V146.286a73.143%2073.143%200%200%201%2073.143-73.143z%20m36.571%20229.412l127.269%20418.89h74.35l130.45-418.89h-67.913L349.184%20634.04h-1.097l-95.708-331.484h-69.522z%20m413.916%20279.26H529.92c0.366%2025.82%204.79%2048.201%2013.349%2067.182%208.557%2018.98%2019.968%2034.523%2034.23%2046.628%2014.263%2012.142%2031.013%2021.138%2050.286%2026.99%2019.237%205.851%2039.753%208.814%2061.477%208.814a213.211%20213.211%200%200%200%2055.625-7.315c18.176-4.9%2034.377-12.617%2048.64-23.186%2014.263-10.57%2025.783-24.137%2034.523-40.777%208.74-16.64%2013.093-36.681%2013.093-60.16%200-10.972-1.5-21.906-4.535-32.841a108.434%20108.434%200%200%200-37.157-56.32%20107.776%20107.776%200%200%200-32.621-17.591c-5.01-1.573-13.312-4.023-24.869-7.314a11538.286%2011538.286%200%200%201-68.462-19.968l-16.822-5.01a79.36%2079.36%200%200%201-32.915-19.054c-8.375-8.412-12.58-20.042-12.58-34.926%200-10.533%202.23-19.383%206.692-26.405%204.462-7.021%2010.094-12.617%2016.823-16.713%206.802-4.096%2014.263-7.022%2022.492-8.777a114.469%20114.469%200%200%201%2024.064-2.67c23.186%200%2042.24%205.596%2057.234%2016.75%2014.958%2011.118%2023.332%2030.208%2025.124%2057.198h66.853c0-21.943-3.95-41.18-11.776-57.783a123.1%20123.1%200%200%200-31.817-41.984%20134.802%20134.802%200%200%200-46.519-25.49%20183.296%20183.296%200%200%200-56.466-8.522c-17.116%200-34.012%202.45-50.835%207.315-16.713%204.9-31.707%2012.434-44.873%2022.6-13.202%2010.168-23.808%2023.004-31.817%2038.437-8.046%2015.434-12.068%2033.72-12.068%2054.858%200%2010.971%201.353%2021.723%204.022%2032.256%202.67%2010.605%207.242%2020.553%2013.642%2029.952%206.436%209.362%2015.067%2017.883%2025.965%2025.49%2010.862%207.643%2024.503%2013.787%2040.887%2018.505a3085.166%203085.166%200%200%200%2066.56%2019.054c18.03%204.9%2033.792%2010.093%2047.36%2015.543%207.826%203.145%2015.031%208.52%2021.65%2016.128%206.583%207.643%209.875%2019.492%209.875%2035.51%200%207.827-1.427%2015.543-4.28%2023.187a51.785%2051.785%200%200%201-13.896%2020.224c-6.4%205.851-14.775%2010.679-25.125%2014.372-10.35%203.73-22.82%205.596-37.449%205.596-13.531%200-26.112-1.683-37.669-5.01a85.687%2085.687%200%200%201-30.756-15.836%2073.143%2073.143%200%200%201-20.846-27.867c-5.01-11.338-7.497-25.015-7.497-41.07z'%3e%3c/path%3e%3c/svg%3e",alt:"icon",style:{width:"30px",height:"30px"}})}),i.jsx(R,{title:"前往GitHub查看官方文档？",icon:i.jsx(B,{style:{color:"#7cb25d"}}),onConfirm:()=>{window.open("https://github.com/code-visual/visual-flowengine-spring-boot-starter","_blank")},okText:"Yes",cancelText:"No",style:{marginBottom:"110px",paddingBottom:"110px",position:"absolute",left:"0px",top:"0px"},children:i.jsx("div",{style:{padding:"12px"},children:i.jsx("div",{className:ko,children:i.jsx("img",{src:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M512%200C226.742857%200%200%20226.742857%200%20512s226.742857%20512%20512%20512%20512-226.742857%20512-512-226.742857-512-512-512zM285.257143%20804.571429l-21.942857-43.885715C438.857143%20731.428571%20585.142857%20680.228571%20694.857143%20607.085714l36.571428%2029.257143C607.085714%20724.114286%20460.8%20775.314286%20285.257143%20804.571429z%20m329.142857-270.628572l29.257143%2036.571429c-109.714286%2065.828571-226.742857%20109.714286-343.771429%20131.657143-7.314286-14.628571-14.628571-29.257143-21.942857-36.571429%20124.342857-29.257143%20234.057143-73.142857%20336.457143-131.657143z%20m-314.514286%2029.257143c80.457143-21.942857%20160.914286-58.514286%20248.685715-109.714286l29.257142%2036.571429c-80.457143%2051.2-160.914286%2087.771429-248.685714%20117.028571-7.314286-14.628571-21.942857-29.257143-29.257143-43.885714z%20m497.371429%2029.257143c-87.771429-36.571429-168.228571-95.085714-219.428572-160.914286h-146.285714c-58.514286%2065.828571-131.657143%20117.028571-212.114286%20160.914286-7.314286-14.628571-21.942857-21.942857-29.257142-36.571429%2073.142857-36.571429%20131.657143-73.142857%20182.857142-124.342857H212.114286v-43.885714h204.8c7.314286-21.942857%2021.942857-36.571429%2036.571428-51.2-36.571429%200-80.457143%207.314286-117.028571%207.314286-14.628571%200-29.257143%200-51.2%207.314285l-14.628572-51.2c21.942857-7.314286%2036.571429-14.628571%2058.514286-29.257143%2036.571429-29.257143%2073.142857-65.828571%20124.342857-109.714285l51.2%2029.257143c-51.2%2036.571429-95.085714%2073.142857-146.285714%20102.4C438.857143%20292.571429%20533.942857%20292.571429%20636.342857%20285.257143c-21.942857-14.628571-43.885714-36.571429-65.828571-51.2l29.257143-29.257143c65.828571%2043.885714%20117.028571%2087.771429%20160.914285%20124.342857l-36.571428%2029.257143c-14.628571-7.314286-29.257143-21.942857-43.885715-36.571429-73.142857%200-146.285714%207.314286-219.428571%207.314286l36.571429%2014.628572c-7.314286%2021.942857-14.628571%2029.257143-21.942858%2043.885714h343.771429v43.885714H629.028571c51.2%2058.514286%20124.342857%2095.085714%20204.8%20117.028572-14.628571%2021.942857-29.257143%2036.571429-36.571428%2043.885714z'%20fill='%23333333'%20%3e%3c/path%3e%3c/svg%3e",alt:"icon",style:{width:"30px",height:"30px"}})})})}),i.jsx("div",{onClick:V,className:ko,children:i.jsx("img",{src:"data:image/svg+xml,%3csvg%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='200'%20height='200'%3e%3cpath%20d='M959.5%20512c0-247.15-200.35-447.5-447.5-447.5S64.5%20264.85%2064.5%20512%20264.85%20959.5%20512%20959.5%20959.5%20759.15%20959.5%20512zM719.28%20637.81c-16.86%2012.84-40.93%209.59-53.75-7.28L512%20428.88%20358.47%20630.53c-12.82%2016.87-36.91%2020.12-53.75%207.28-16.86-12.83-20.12-36.9-7.28-53.75l184.04-241.73c0.22-0.28%200.5-0.48%200.73-0.75%201.21-1.51%202.61-2.88%204.07-4.21%200.69-0.63%201.32-1.34%202.05-1.91%200.16-0.12%200.27-0.28%200.43-0.41%201.93-1.47%203.97-2.68%206.07-3.73%200.53-0.26%201.07-0.45%201.61-0.68%201.94-0.86%203.91-1.56%205.92-2.08%200.65-0.17%201.29-0.34%201.96-0.48%202.54-0.52%205.09-0.87%207.66-0.87h0.04c2.57%200%205.12%200.35%207.66%200.87%200.66%200.14%201.3%200.31%201.96%200.48%202.01%200.52%203.99%201.22%205.92%202.08%200.54%200.24%201.08%200.42%201.61%200.68%202.09%201.05%204.13%202.26%206.07%203.73%200.16%200.12%200.27%200.28%200.43%200.4%200.73%200.58%201.36%201.28%202.05%201.92%201.46%201.33%202.85%202.7%204.07%204.21%200.22%200.28%200.51%200.47%200.73%200.75l184.04%20241.73c12.83%2016.85%209.57%2040.92-7.28%2053.75z'%20%3e%3c/path%3e%3c/svg%3e",alt:"icon",style:{width:"30px",height:"30px"}})})]}):"菜单"}),i.jsx(J,{onClick:()=>{E(!k)},className:bo,style:{display:h?"block":"none",position:"absolute",cursor:"grab",left:`${a.x+778}px`,top:a.y-5+"px",transform:k?"rotate(-45deg)":"none",transition:"transform 0.3s"}}),!k&&i.jsx(F,{className:_o,onMouseDown:N,style:{transition:l?"none":"all 0.3s ease",position:"absolute",cursor:"grab",left:`${h?a.x-2:a.x+22}px`,top:(h?a.y-5:a.y-15)+"px"}}),i.jsx(X,{title:"初始代码   VS   当前代码",open:f,centered:!0,onCancel:()=>{p(!1)},maskClosable:!1,footer:null,width:"90vw",style:{maxWidth:"92vw",maxHeight:"100vh",overflow:"hidden"},children:i.jsx(Oo,{language:"groovy",onLineClick:t=>{const e=t.indexOf('scriptText":');if(-1===e)return void M.success("只对比代码部分").then((t=>t));const n=t.substring(e+12,e+162),r=t.substring(e+12).trim().replace(/,$/,"");b((t=>{const e=t||[];if(e.length>=2)return[...e];const i={content:JSON.parse(r),label:n};return[...e,i]}))},originalCode:JSON.stringify(null==C?"":C.scriptMetadata,null,2),modifiedCode:JSON.stringify(t.currentData.scriptMetadata,null,2)})}),i.jsx(X,{title:"详细代码对比",open:_,centered:!0,onCancel:()=>{b(null),S(!1)},maskClosable:!1,footer:null,width:"70vw",style:{maxWidth:"92vw",maxHeight:"100vh",overflow:"hidden"},children:i.jsx(Oo,{language:"groovy",originalCode:x&&x.length>0?x[0].content:"",modifiedCode:x&&x.length>1?x[1].content:""})}),i.jsx(X,{title:i.jsx("div",{style:{width:"100%",cursor:"move"},onMouseOver:()=>{Y&&H(!1)},onMouseOut:()=>{H(!0)},children:"Debug Workflow"}),open:g,centered:!0,onCancel:()=>{m(!1)},maskClosable:!1,footer:null,width:1e3,style:{height:"80vh"},modalRender:t=>i.jsx(ja,{disabled:Y,bounds:W,nodeRef:q,onStart:(t,e)=>((t,e)=>{var n;const{clientWidth:r,clientHeight:i}=window.document.documentElement,o=null==(n=q.current)?void 0:n.getBoundingClientRect();o&&U({left:-o.left+e.x,right:r-(o.right-e.x),top:-o.top+e.y,bottom:i-(o.bottom-e.y)})})(0,e),children:i.jsx("div",{ref:q,children:t})}),children:i.jsx(Lo,{treeChartState:t})})]})},Ia=S.lazy((()=>r((()=>import("./ManageModalEditor-D5z3Ucij.js")),__vite__mapDeps([0,1,2,3,4,5])))),Oa=to((({treeStore:t,initialData:e,updateTreeData:n,forceUpdateTreeChart:r})=>{const a=w.useRef(null),s=w.useRef(null),l=w.useRef(null),c=w.useRef(),u=w.useRef(ti().nodeSize([100,250]).separation((function(){return 1}))),h=w.useRef(),d=w.useRef(),[f,p]=w.useState(!1),[m,v]=w.useState(null),[b,_]=w.useState(!1),[k,E]=w.useState(""),[C,T]=w.useState(!0),N=w.useRef(null),j=w.useRef(null),[$,D]=w.useState({windowWidth:window.innerWidth,windowHeight:window.innerHeight}),I=()=>{v(null)};w.useEffect((()=>{ge(a.current).selectAll("*").remove(),c.current=Vr(e.scriptMetadata),s.current=ge(a.current),l.current=s.current.append("g"),ge("body").on("click",(()=>{t.setCurrentMenu(null)}));const n=c.current;l.current.append("path").attr("class","preview-line").style("stroke","red").attr("stroke-width",4).style("stroke-dasharray","5,5").style("opacity",0),u.current(n);const r=+s.current.attr("width"),i=+s.current.attr("height"),[o,f]=x(n,r,i);l.current.attr("transform",`translate(${o},${f})`),s.current.on("dblclick.zoom",null);const g={gRef:l.current,rootNode:c.current,svgRef:a.current,treeLayout:u.current,closestNodeRef:h.current,treeStore:t,currentData:e};return d.current=g,c.current.descendants().forEach((t=>{t.previousX=t.x,t.previousY=t.y})),uo(g),so(g,!1),p(!0),window.addEventListener("click",I),()=>{window.removeEventListener("click",I)}}),[t]),w.useEffect((()=>{function t(){D({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]);const O=$.windowWidth-256,A=$.windowHeight-62,P=[{key:"1",label:i.jsx("div",{children:"查看源代码"}),onClick:()=>{var t;t=JSON.stringify(c.current.data,null,2),E(t),_(!0)}}];return i.jsxs("div",{children:[i.jsxs("div",{style:{position:"relative",overflowX:"hidden"},children:[i.jsxs("svg",{style:{position:"absolute",left:"10px",borderRadius:"50%",padding:"8px 10px"},className:vo,transform:f?`translate(${parseFloat(s.current.attr("width"))-180}, 10)`:void 0,ref:N,visibility:f?"visible":"hidden",onClick:()=>{const e=ge("#lockTongue"),n=e.attr("transform");n&&n.includes("scale(-1,1)")?(T(!0),a.current.style.backgroundColor=o.pageContainerLockBackgroundColor,e.transition().duration(500).attr("transform","translate(0,0) scale(1, 1)").on("end",(()=>{s.current.call(Ci().on("zoom",null));let t=l.current.selectAll("circle");l.current.selectAll("rect").on("mouseover",null).on("mouseout",null),t.on("mouseover",null).on("mouseout",null)}))):(T(!1),a.current.style.backgroundColor=o.pageContainerUnLockBackgroundColor,e.transition().duration(500).attr("transform","translate(18,0) scale(-1, 1) translate(-18,0)").on("end",(()=>{const e=s.current.select("g"),n=+s.current.attr("width"),r=+s.current.attr("height"),[i,o]=x(c.current,n,r),u=Ci().scaleExtent([.4,5]).on("zoom",(n=>{t.setCurrentMenu(null),t.setCurrentTransform(n.transform),e.attr("transform",n.transform)}));s.current.call(u),s.current.call(u.transform,null==t.currentTransform?yi.translate(i,o).scale(1):t.currentTransform);const h=l.current.selectAll("circle"),d=l.current.selectAll("rect");ao(h,a.current,t),oo(d,a.current,t)})))},width:"40px",height:"40px",xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",viewBox:"0 -2 25 25",id:"myLock",children:[i.jsx("rect",{x:"1",y:"8",width:"22",height:"16",fill:"black"}),i.jsx("path",{d:"M 6,8 L 6,1 C 6,-2 9,-4 12,-4 C 15,-4 18,-2 18,1 L 18,8",fill:"none",stroke:"black",strokeWidth:"2",id:"lockTongue"})]}),i.jsx("svg",{fill:"#000000",style:{position:"absolute",left:"50px",borderRadius:"50%",padding:"8px 2px"},className:vo,ref:j,visibility:f?"visible":"hidden",onClick:()=>{ge(j.current).transition().duration(500).attrTween("transform",(function(){const t=ge(this).attr("transform")||"";return function(e){return`${t} ${`rotate(${360*e})`}`}})).on("end",(function(){y(e.workflowId).then((t=>{n(t),r()})).finally((()=>{M.success("刷新成功")}))}))},width:"40px",height:"40px",cursor:"pointer",transform:f?`translate(${parseFloat(s.current.attr("width"))-280}, 10)`:void 0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.645 489.645",children:i.jsx("g",{children:i.jsx("path",{d:"M460.656,132.911c-58.7-122.1-212.2-166.5-331.8-104.1c-9.4,5.2-13.5,16.6-8.3,27c5.2,9.4,16.6,13.5,27,8.3\r\n                        c99.9-52,227.4-14.9,276.7,86.3c65.4,134.3-19,236.7-87.4,274.6c-93.1,51.7-211.2,17.4-267.6-70.7l69.3,14.5\r\n                        c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-122.8-25c-20.6-2-25,16.6-23.9,22.9l15.6,123.8\r\n                        c1,10.4,9.4,17.7,19.8,17.7c12.8,0,20.8-12.5,19.8-23.9l-6-50.5c57.4,70.8,170.3,131.2,307.4,68.2\r\n                        C414.856,432.511,548.256,314.811,460.656,132.911z"})})}),i.jsx("svg",{ref:a,width:O,height:A,onContextMenu:t=>{t.preventDefault(),t.target===a.current&&v({x:t.clientX,y:t.clientY})}}),i.jsx("div",{style:{position:"absolute",top:0,left:0},children:i.jsx("svg",{children:i.jsx(Ti,{})})})]}),i.jsx(S.Suspense,{fallback:i.jsx("div",{children:"Loading..."}),children:i.jsx(Ia,{treeStore:t,readonly:C})}),f&&i.jsx(Da,{treeChartState:d.current}),f&&i.jsx(mo,{treeChartState:d.current}),i.jsx(X,{title:"源代码",open:b,centered:!0,onCancel:()=>{_(!1)},maskClosable:!1,footer:null,width:1e3,children:i.jsx(g,{height:"70vh",defaultLanguage:"json",defaultValue:k,options:{scrollBeyondLastLine:!1,readOnly:!0}},Math.random())}),m&&i.jsx(V,{menu:{items:P},open:!0,className:yo,children:i.jsx("div",{style:{position:"absolute",left:m.x-t.siderWidth+"px",top:`${m.y}px`},onClick:I})},Math.random())]})})),Aa=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"}));export{ja as D,Aa as T,to as o,Io as r,ge as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ManageModalEditor-D5z3Ucij.js","assets/monaco-DG05hfFm.js","assets/monaco-BE7sLzYL.css","assets/index-BWIyky4r.js","assets/antd-es-ClfKr2qc.js","assets/index-B0gcK6es.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}